

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cvpysdk.client &mdash; Developer SDK - Python 11.20 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Developer SDK - Python
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Developer SDK - Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>cvpysdk.client</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for cvpysdk.client</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># pylint: disable=R1705, R0205</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1"># --------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;File for performing client related operations on the Commcell.</span>

<span class="sd">Clients and Client are 2 classes defined in this file.</span>

<span class="sd">Clients:    Class for representing all the clients associated with the commcell</span>

<span class="sd">Client:     Class for a single client of the commcell</span>


<span class="sd">Clients</span>
<span class="sd">=======</span>

<span class="sd">    __init__(commcell_object)             --  initialize object of Clients class associated with</span>
<span class="sd">    the commcell</span>

<span class="sd">    __str__()                             --  returns all the clients associated with the commcell</span>

<span class="sd">    __repr__()                            --  returns the string to represent the instance of the</span>
<span class="sd">    Clients class</span>

<span class="sd">    __len__()                             --  returns the number of clients associated with the</span>
<span class="sd">    Commcell</span>

<span class="sd">    __getitem__()                         --  returns the name of the client at the given index</span>
<span class="sd">    or the details for the given client name</span>

<span class="sd">    _get_clients()                        --  gets all the clients associated with the commcell</span>

<span class="sd">    _get_office_365_clients()             --  get all office365 clients in the commcell</span>

<span class="sd">    _get_hidden_clients()                 --  gets all the hidden clients associated with the</span>
<span class="sd">    commcell</span>

<span class="sd">    _get_virtualization_clients()         --  gets all the virtualization clients associated with</span>
<span class="sd">    the commcell</span>

<span class="sd">    _get_client_dict()                    --  returns the client dict for client to be added to</span>
<span class="sd">    member server</span>

<span class="sd">    _member_servers()                     --  returns member clients to be associated with the</span>
<span class="sd">    Virtual Client</span>

<span class="sd">    _get_client_from_hostname()           --  returns the client name if associated with specified</span>
<span class="sd">    hostname if exists</span>

<span class="sd">    _get_hidden_client_from_hostname()    --  returns the client name if associated with specified</span>
<span class="sd">    hostname if exists</span>

<span class="sd">    has_client(client_name)               --  checks if a client exists with the given name or not</span>

<span class="sd">    has_hidden_client(client_name)        --  checks if a hidden client exists with the given name</span>

<span class="sd">    _process_add_response()               -- to process the add client request using API call</span>

<span class="sd">    add_vmware_client()                   --  adds a new VMWare Virtualization Client to the</span>
<span class="sd">                                              Commcell</span>

<span class="sd">    add_kubernetes_client()               --  adds a new Kubernetes Virtualization Client to the</span>
<span class="sd">                                              Commcell</span>

<span class="sd">    add_share_point_client()              -- adds a new sharepoint pseudo client to the Commcell</span>

<span class="sd">    add_exchange_client()                 --  adds a new Exchange Virtual Client to the Commcell</span>

<span class="sd">    add_splunk_client()                   --  adds a new Splunk Client to the Commcell</span>

<span class="sd">    add_case_client()                     --  adds a new Case Manger Client to the Commcell</span>

<span class="sd">    add_salesforce_client()               --  adds a new salesforce client</span>

<span class="sd">    add_azure_client()                    --  adds a new azure cloud client</span>

<span class="sd">    get(client_name)                      --  returns the Client class object of the input client</span>
<span class="sd">    name</span>

<span class="sd">    delete(client_name)                   --  deletes the client specified by the client name from</span>
<span class="sd">    the commcell</span>

<span class="sd">    filter_clients_return_displaynames()  --  filter clients based on criteria</span>

<span class="sd">    refresh()                             --  refresh the clients associated with the commcell</span>

<span class="sd">Clients Attributes</span>
<span class="sd">------------------</span>

<span class="sd">    **all_clients**             --  returns the dictioanry consisting of all the clients that are</span>
<span class="sd">    associated with the commcell and their information such as id and hostname</span>

<span class="sd">    **hidden_clients**          --  returns the dictioanry consisting of only the hidden clients</span>
<span class="sd">    that are associated with the commcell and their information such as id and hostname</span>

<span class="sd">    **virtualization_clients**  --  returns the dictioanry consisting of only the virtualization</span>
<span class="sd">    clients that are associated with the commcell and their information such as id and hostname</span>
<span class="sd">    </span>
<span class="sd">    **office365_clients** -- returns the dictioanry consisting of all the office 365 clients that are</span>
<span class="sd">    associated with the commcell</span>


<span class="sd">Client</span>
<span class="sd">======</span>

<span class="sd">    __init__()                   --  initialize object of Class with the specified client name</span>
<span class="sd">    and id, and associated to the commcell</span>

<span class="sd">    __repr__()                   --  return the client name and id, the instance is associated with</span>

<span class="sd">    _get_client_id()             --  method to get the client id, if not specified in __init__</span>

<span class="sd">    _get_client_properties()     --  get the properties of this client</span>

<span class="sd">    _get_instance_of_client()    --  get the instance associated with the client</span>

<span class="sd">    _get_log_directory()         --  get the log directory path on the client</span>

<span class="sd">    _service_operations()        --  perform services related operations on a client</span>

<span class="sd">                START / STOP / RESTART</span>

<span class="sd">    _make_request()              --  makes the upload request to the server</span>

<span class="sd">    _process_update_request()    --  to process the request using API call</span>

<span class="sd">    update_properties()          --  to update the client properties</span>

<span class="sd">    enable_backup()              --  enables the backup for the client</span>

<span class="sd">    enable_backup_at_time()      --  enables the backup for the client at the input time specified</span>

<span class="sd">    disable_backup()             --  disables the backup for the client</span>

<span class="sd">    enable_restore()             --  enables the restore for the client</span>

<span class="sd">    enable_restore_at_time()     --  enables the restore for the client at the input time specified</span>

<span class="sd">    disable_restore()            --  disables the restore for the client</span>

<span class="sd">    enable_data_aging()          --  enables the data aging for the client</span>

<span class="sd">    enable_data_aging_at_time()  --  enables the data aging for the client at input time specified</span>

<span class="sd">    disable_data_aging()         --  disables the data aging for the client</span>

<span class="sd">    execute_script()             --  executes given script on the client</span>

<span class="sd">    execute_command()            --  executes a command on the client</span>

<span class="sd">    enable_intelli_snap()        --  enables intelli snap for the client</span>

<span class="sd">    disable_intelli_snap()       --  disables intelli snap for the client</span>

<span class="sd">    upload_file()                --  uploads the specified file on controller to the client machine</span>

<span class="sd">    upload_folder()              --  uploads the specified folder on controller to client machine</span>

<span class="sd">    start_service()              --  starts the service with the given name on the client</span>

<span class="sd">    stop_service()               --  stops the service with the given name on the client</span>

<span class="sd">    restart_service()            --  restarts the service with the given name on the client</span>

<span class="sd">    restart_services()           --  executes the command on the client to restart the services</span>

<span class="sd">    push_network_config()        --  performs a push network configuration on the client</span>

<span class="sd">    add_user_association()       --  adds the user associations on this client</span>

<span class="sd">	add_client_owner()			 --  adds users to owner list of this client</span>

<span class="sd">    refresh()                    --  refresh the properties of the client</span>

<span class="sd">    add_additional_setting()     --  adds registry key to the client property</span>

<span class="sd">    delete_additional_setting()  --  deletes registry key from the client property</span>

<span class="sd">    release_license()            --  releases a license from a client</span>

<span class="sd">    retire()                     --  perform retire operation on the client</span>

<span class="sd">    reconfigure_client()         --  reapplies license to the client</span>

<span class="sd">    push_servicepack_and_hotfixes() -- triggers installation of service pack and hotfixes</span>

<span class="sd">    get_dag_member_servers()     --  Gets the member servers of an Exchange DAG client.</span>

<span class="sd">    create_pseudo_client()       --  Creates a pseudo client</span>

<span class="sd">    set_job_start_time()         -- sets the job start time at client level</span>

<span class="sd">    uninstall_software()		 --	Uninstalls all the packages of the client</span>


<span class="sd">Client Attributes</span>
<span class="sd">-----------------</span>

<span class="sd">    **available_security_roles**    --  returns the security roles available for the selected</span>
<span class="sd">    client</span>

<span class="sd">    **properties**                  --  returns the properties of the client</span>

<span class="sd">    **display_name**                --  returns the display name of the client</span>

<span class="sd">    **description**                 --  returns the description of the client</span>

<span class="sd">    **client_id**                   --  returns the id of the client</span>

<span class="sd">    **client_name**                 --  returns the name of the client</span>

<span class="sd">    **client_hostname**             --  returns the host name of the client</span>

<span class="sd">    **timezone**                    --  returns the timezone of the client</span>

<span class="sd">    **os_info**                     --  returns string consisting of OS information of the client</span>

<span class="sd">    **is_data_recovery_enabled**    --  boolean specifying whether data recovery is enabled for the</span>
<span class="sd">    client or not</span>

<span class="sd">    **is_data_management_enabled**  --  boolean specifying whether data management is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_ci_enabled**               --  boolean specifying whether content indexing is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_backup_enabled**           --  boolean specifying whether backup activity is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_restore_enabled**          --  boolean specifying whether restore activity is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_data_aging_enabled**       --  boolean specifying whether data aging is enabled for the</span>
<span class="sd">    client or not</span>

<span class="sd">    **is_intelli_snap_enabled**     --  boolean specifying whether intelli snap is enabled for the</span>
<span class="sd">    client or not</span>

<span class="sd">    **install_directory**           --  returns the path where the client is installed at</span>

<span class="sd">    **version**                     --  returns the version of the product installed on the client</span>

<span class="sd">    **service_pack**                --  returns the service pack installed on the client</span>

<span class="sd">    **job_results_directory**       --  returns the path of the job results directory on the client</span>

<span class="sd">    **instance**                    --  returns the Instance of the client</span>

<span class="sd">    **log_directory**               --  returns the path of the log directory on the client</span>

<span class="sd">    **agents**                      --  returns the instance of the Agents class representing</span>
<span class="sd">    the list of agents installed on the Client</span>

<span class="sd">    **schedules**                   --  returns the instance of the Schedules class representing</span>
<span class="sd">    the list of schedules configured for the Client</span>

<span class="sd">    **users**                       --  returns the instance of the Users class representing the</span>
<span class="sd">    list of users with access to the Client</span>

<span class="sd">    **network**                     --  returns object of the Network class corresponding to the</span>
<span class="sd">    selected client</span>

<span class="sd">    **is_ready**                    --  returns boolean value specifying whether services on the</span>
<span class="sd">    client are running or not, and whether the CommServ is able to communicate with the client</span>


<span class="sd">    **set_encryption_prop**         --    Set encryption properties on a client</span>

<span class="sd">    **set_dedup_prop**              --     Set DDB properties</span>

<span class="sd">    **consumed_licenses**           --  returns dictionary of all the license details</span>
<span class="sd">    which is consumed by the client</span>

<span class="sd">    **cvd_port**                    -- returns cvd port of the client</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">copy</span>

<span class="kn">from</span> <span class="nn">base64</span> <span class="kn">import</span> <span class="n">b64encode</span>
<span class="kn">from</span> <span class="nn">past.builtins</span> <span class="kn">import</span> <span class="n">basestring</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="kn">from</span> <span class="nn">.job</span> <span class="kn">import</span> <span class="n">Job</span>
<span class="kn">from</span> <span class="nn">.agent</span> <span class="kn">import</span> <span class="n">Agents</span>
<span class="kn">from</span> <span class="nn">.schedules</span> <span class="kn">import</span> <span class="n">Schedules</span>
<span class="kn">from</span> <span class="nn">.exception</span> <span class="kn">import</span> <span class="n">SDKException</span>
<span class="kn">from</span> <span class="nn">.deployment.install</span> <span class="kn">import</span> <span class="n">Install</span>
<span class="kn">from</span> <span class="nn">.deployment.uninstall</span> <span class="kn">import</span> <span class="n">Uninstall</span>

<span class="kn">from</span> <span class="nn">.network</span> <span class="kn">import</span> <span class="n">Network</span>
<span class="kn">from</span> <span class="nn">.network_throttle</span> <span class="kn">import</span> <span class="n">NetworkThrottle</span>

<span class="kn">from</span> <span class="nn">.security.user</span> <span class="kn">import</span> <span class="n">Users</span>

<span class="kn">from</span> <span class="nn">.name_change</span> <span class="kn">import</span> <span class="n">NameChange</span>


<div class="viewcode-block" id="Clients"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients">[docs]</a><span class="k">class</span> <span class="nc">Clients</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for representing all the clients associated with the commcell.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commcell_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize object of the Clients class.</span>

<span class="sd">            Args:</span>
<span class="sd">                commcell_object (object)  --  instance of the Commcell class</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Clients class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span> <span class="o">=</span> <span class="n">commcell_object</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_cvpysdk_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_services</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_update_response_</span>

        <span class="c1"># TODO: check with API team for additional property to remove multiple API calls</span>
        <span class="c1"># and use a single API call to get all types of clients, and to be able to distinguish</span>
        <span class="c1"># them</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_ALL_CLIENTS&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_OFFICE_365_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_OFFICE_365_ENTITIES&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ALL_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_ALL_CLIENTS_PLUS_HIDDEN&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_VIRTUALIZATION_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_VIRTUAL_CLIENTS&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_EXCHANGE_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_SHAREPOINT_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CREATE_PSEUDO_CLIENT&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_SPLUNK_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CREATE_PSEUDO_CLIENT&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clients</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden_clients</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_virtualization_clients</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_office_365_clients</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Representation string consisting of all clients of the commcell.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str - string of all the clients associated with the commcell</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">representation_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:^5}</span><span class="se">\t</span><span class="si">{:^20}</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;S. No.&#39;</span><span class="p">,</span> <span class="s1">&#39;Client&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">):</span>
            <span class="n">sub_str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:^5}</span><span class="se">\t</span><span class="si">{:20}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>
            <span class="n">representation_string</span> <span class="o">+=</span> <span class="n">sub_str</span>

        <span class="k">return</span> <span class="n">representation_string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Representation string for the instance of the Clients class.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;Clients class instance for Commcell: &#39;</span><span class="si">{0}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">commserv_name</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the number of the clients associated to the Commcell.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the client for the given client ID or</span>
<span class="sd">            the details of the client for given client Name.</span>

<span class="sd">            Args:</span>
<span class="sd">                value   (str / int)     --  Name or ID of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   name of the client, if the client id was given</span>

<span class="sd">                dict    -   dict of details of the client, if client name was given</span>

<span class="sd">            Raises:</span>
<span class="sd">                IndexError:</span>
<span class="sd">                    no client exists with the given Name / Id</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="o">.</span><span class="n">items</span><span class="p">()))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;No client exists with the given Name / Id&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets all the clients associated with the commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   consists of all clients in the commcell</span>

<span class="sd">                    {</span>
<span class="sd">                        &quot;client1_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client1_id,</span>

<span class="sd">                            &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>

<span class="sd">                        &quot;client2_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client2_id,</span>

<span class="sd">                            &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                        }</span>
<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">clients_dict</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">]:</span>
                    <span class="n">temp_name</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_hostname</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">clients_dict</span><span class="p">[</span><span class="n">temp_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">temp_id</span><span class="p">,</span>
                        <span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="n">temp_hostname</span>
                    <span class="p">}</span>

                <span class="k">return</span> <span class="n">clients_dict</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
        
    <span class="k">def</span> <span class="nf">_get_office_365_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;REST API call to get all office365 clients in the commcell</span>

<span class="sd">                  Returns:</span>
<span class="sd">                      dict    -   consists of all office 365 clients in the commcell</span>
<span class="sd">                          {</span>
<span class="sd">                              &quot;client1_name&quot;: {</span>

<span class="sd">                                  &quot;id&quot;: client1_id</span>

<span class="sd">                              },</span>

<span class="sd">                              &quot;client2_name&quot;: {</span>

<span class="sd">                                  &quot;id&quot;: client2_id</span>
<span class="sd">                              }</span>
<span class="sd">                          }</span>

<span class="sd">                  Raises:</span>
<span class="sd">                      SDKException:</span>
<span class="sd">                          if response is empty</span>

<span class="sd">                          if response is not success</span>

<span class="sd">              &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_OFFICE_365_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s2">&quot;o365Client&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">clients_dict</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;o365Client&#39;</span><span class="p">]:</span>
                    <span class="n">temp_name</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;clientId&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">clients_dict</span><span class="p">[</span><span class="n">temp_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">temp_id</span>
                    <span class="p">}</span>

                <span class="k">return</span> <span class="n">clients_dict</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">office_365_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dict of all office 365 clients in the commcell&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_office_365_clients</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_office_365_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_office_365_clients</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_office_365_clients</span>

    <span class="k">def</span> <span class="nf">_get_hidden_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets all the clients associated with the commcell, including all VM&#39;s and hidden clients</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   consists of all clients (including hidden clients) in the commcell</span>

<span class="sd">                    {</span>
<span class="sd">                        &quot;client1_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client1_id,</span>

<span class="sd">                            &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>

<span class="sd">                        &quot;client2_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client2_id,</span>

<span class="sd">                            &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                        }</span>
<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ALL_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">all_clients_dict</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">hidden_clients_dict</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">]:</span>
                    <span class="n">temp_name</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_hostname</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">all_clients_dict</span><span class="p">[</span><span class="n">temp_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">temp_id</span><span class="p">,</span>
                        <span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="n">temp_hostname</span>
                    <span class="p">}</span>

                <span class="c1"># hidden clients = all clients - true clients</span>
                <span class="n">hidden_clients_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">client</span><span class="p">:</span> <span class="n">all_clients_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                        <span class="n">client</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">all_clients_dict</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client</span><span class="p">]</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_clients_dict</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="n">hidden_clients_dict</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_virtualization_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;REST API call to get all virtualization clients in the commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   consists of all virtualization clients in the commcell</span>

<span class="sd">                    {</span>
<span class="sd">                        &quot;client1_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client1_id,</span>

<span class="sd">                            &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>

<span class="sd">                        &quot;client2_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client2_id,</span>

<span class="sd">                            &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                        }</span>
<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_VIRTUALIZATION_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;VSPseudoClientsList&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">pseudo_clients</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;VSPseudoClientsList&#39;</span><span class="p">]</span>
                <span class="n">virtualization_clients</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">pseudo_client</span> <span class="ow">in</span> <span class="n">pseudo_clients</span><span class="p">:</span>
                    <span class="n">virtualization_clients</span><span class="p">[</span><span class="n">pseudo_client</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;clientId&#39;</span><span class="p">:</span> <span class="n">pseudo_client</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;hostName&#39;</span><span class="p">:</span> <span class="n">pseudo_client</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span>
                    <span class="p">}</span>

                <span class="k">return</span> <span class="n">virtualization_clients</span>

            <span class="k">return</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_client_dict</span><span class="p">(</span><span class="n">client_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the client dict for the client object to be appended to member server.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_object   (object)    --  instance of the Client class</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   dictionary for a single client to be associated with the Virtual Client</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_object</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
                <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">client_object</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">client_dict</span>

    <span class="k">def</span> <span class="nf">_member_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clients_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the member clients to be associated with the Virtual Client.</span>

<span class="sd">            Args:</span>
<span class="sd">                clients_list (list)    --  list of the clients to associated to the virtual client</span>

<span class="sd">            Returns:</span>
<span class="sd">                list - list consisting of all member servers to be associated to the Virtual Client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of clients list argument is not list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">clients_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">member_servers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
                    <span class="n">temp_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">temp_client</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;virtual server&#39;</span><span class="p">):</span>
                        <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">temp_client</span><span class="p">)</span>
                        <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

                    <span class="k">del</span> <span class="n">temp_client</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">Client</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;virtual server&#39;</span><span class="p">):</span>
                    <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
                    <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">member_servers</span>

    <span class="k">def</span> <span class="nf">_get_client_from_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a client is associated with the given hostname.</span>

<span class="sd">            Args:</span>
<span class="sd">                hostname    (str)   --  host name of the client on this commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   name of the client associated with this hostname</span>

<span class="sd">                None    -   if no client has the same hostname as the given input</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># verify there is no client in the Commcell with the same name as the given hostname</span>
        <span class="c1"># for multi-instance clients</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span> <span class="ow">and</span> <span class="n">hostname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">hostname</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client</span><span class="p">][</span><span class="s1">&#39;hostname&#39;</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="n">client</span>

    <span class="k">def</span> <span class="nf">_get_hidden_client_from_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if hidden client associated given hostname exists and returns the hidden client</span>
<span class="sd">            name</span>

<span class="sd">            Args:</span>
<span class="sd">                hostname    (str)   --  host name of the client on this commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   name of the client associated with this hostname</span>

<span class="sd">                None    -   if no client has the same hostname as the given input</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># verify there is no client in the Commcell with the same name as the given hostname</span>
        <span class="c1"># for multi-instance clients</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span> <span class="ow">and</span> <span class="n">hostname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">hidden_client</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">hostname</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">[</span><span class="n">hidden_client</span><span class="p">][</span><span class="s1">&#39;hostname&#39;</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="n">hidden_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">all_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dictionary consisting of all the clients and their info.</span>

<span class="sd">            dict - consists of all clients in the commcell</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;client1_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client1_id,</span>
<span class="sd">                                &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>
<span class="sd">                         &quot;client2_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client2_id,</span>
<span class="sd">                                &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                         },</span>
<span class="sd">                    }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clients</span>

<div class="viewcode-block" id="Clients.create_pseudo_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.create_pseudo_client">[docs]</a>    <span class="k">def</span> <span class="nf">create_pseudo_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a pseudo client</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name (str)    --  client name</span>

<span class="sd">            Returns:</span>
<span class="sd">                client object for the created client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client name type is incorrect</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if failed to get client id from response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;App_CreatePseudoClientRequest&#39;</span><span class="p">:</span>
                <span class="p">{</span>
                    <span class="s2">&quot;registerClient&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;openVMSProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;cvdPort&quot;</span><span class="p">:</span> <span class="mi">0</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;ibmiInstallOptions&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;hostName&quot;</span><span class="p">:</span> <span class="n">client_name</span><span class="p">,</span>
                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span><span class="p">,</span>
                        <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
                    <span class="p">}</span>
                <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorString&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create pseudo client. Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hidden_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dictionary consisting of the hidden clients and their info.</span>

<span class="sd">            dict - consists of all clients in the commcell</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;client1_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client1_id,</span>
<span class="sd">                                &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>
<span class="sd">                         &quot;client2_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client2_id,</span>
<span class="sd">                                &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                         },</span>
<span class="sd">                    }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hidden_clients</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">virtualization_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dictionary consisting of the virtualization clients and their info.</span>

<span class="sd">            dict - consists of all clients in the commcell</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;client1_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client1_id,</span>
<span class="sd">                                &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>
<span class="sd">                         &quot;client2_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client2_id,</span>
<span class="sd">                                &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                         },</span>
<span class="sd">                    }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_virtualization_clients</span>

<div class="viewcode-block" id="Clients.has_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.has_client">[docs]</a>    <span class="k">def</span> <span class="nf">has_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a client exists in the commcell with the given client name / hostname.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name     (str)   --  name / hostname of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool    -   boolean output whether the client exists in the commcell or not</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span> <span class="ow">and</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">)</span> <span class="ow">or</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_from_hostname</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="Clients.has_hidden_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.has_hidden_client">[docs]</a>    <span class="k">def</span> <span class="nf">has_hidden_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a client exists in the commcell with the input client name as a hidden client.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name (str)  --  name of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool - boolean output whether the client exists in the commcell or not as a hidden</span>
<span class="sd">                client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span> <span class="ow">and</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">)</span> <span class="ow">or</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_get_hidden_client_from_hostname</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_process_add_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request_json</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs the Client Add API with the request JSON provided,</span>
<span class="sd">            and returns the contents after parsing the response.</span>

<span class="sd">            Args:</span>
<span class="sd">                request_json    (dict)  --  JSON request to run for the API</span>

<span class="sd">            Returns:</span>
<span class="sd">                (bool, basestring, basestring):</span>
<span class="sd">                    bool -  flag specifies whether success / failure</span>

<span class="sd">                    str  -  error code received in the response</span>

<span class="sd">                    str  -  error message received</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="n">client_name</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">(</span>
                        <span class="p">)[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;entity&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>


<div class="viewcode-block" id="Clients.add_kubernetes_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_kubernetes_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_kubernetes_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">master_node</span><span class="p">,</span>
            <span class="n">secret_name</span><span class="p">,</span>
            <span class="n">secret_key</span><span class="p">,</span>
            <span class="n">vsaclient</span><span class="p">,</span>
            <span class="n">vsaclient_id</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new Kubernetes Virtualization Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name         (str)   --  name of the new Kubernetes Virtual Client</span>

<span class="sd">                master_node         (str)   --  Kubernetes kubectl node</span>

<span class="sd">                secret_name         (str)   --  Kubernetes Secret name</span>

<span class="sd">                secret_key          (str)   --  Kubernetes Secret Key</span>

<span class="sd">                vsaclient           (str)   --  Virtual Server proxy client</span>

<span class="sd">                vsaclient_id        (int)   --  Virtual Server Client id</span>


<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">host_name</span> <span class="o">=</span> <span class="s2">&quot;https://</span><span class="si">{0}</span><span class="s2">:6443&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">master_node</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                <span class="s2">&quot;virtualServerClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;virtualServerInstanceInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;vsInstanceType&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
                        <span class="s2">&quot;k8s&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;secretName&quot;</span><span class="p">:</span> <span class="n">secret_name</span><span class="p">,</span>
                            <span class="s2">&quot;secretKey&quot;</span><span class="p">:</span> <span class="n">secret_key</span><span class="p">,</span>
                            <span class="s2">&quot;secretType&quot;</span><span class="p">:</span> <span class="s2">&quot;ServiceAccount&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;endpointurl&quot;</span><span class="p">:</span> <span class="n">host_name</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;associatedClients&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">vsaclient</span><span class="p">,</span>
                                        <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="n">vsaclient_id</span><span class="p">,</span>
                                        <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
                                    <span class="p">}</span>
                                <span class="p">}</span>
                            <span class="p">]</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;vmwareVendor&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;vcenterHostName&quot;</span><span class="p">:</span> <span class="n">host_name</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>


<div class="viewcode-block" id="Clients.add_vmware_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_vmware_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_vmware_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">vcenter_hostname</span><span class="p">,</span>
            <span class="n">vcenter_username</span><span class="p">,</span>
            <span class="n">vcenter_password</span><span class="p">,</span>
            <span class="n">clients</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new VMWare Virtualization Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name         (str)   --  name of the new VMWare Virtual Client</span>
<span class="sd">                vcenter_hostname    (str)   --  hostname of the vcenter to connect to</span>
<span class="sd">                vcenter_username    (str)   --  login username for the vcenter</span>
<span class="sd">                vcenter_password    (str)   --  plain-text password for the vcenter</span>
<span class="sd">                clients             (list)  --  list cotaining client names / client objects,</span>
<span class="sd">                                                    to associate with the Virtual Client</span>

<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="n">vcenter_password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">vcenter_password</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">member_servers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_member_servers</span><span class="p">(</span><span class="n">clients</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                <span class="s2">&quot;virtualServerClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;virtualServerInstanceInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;vsInstanceType&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;associatedClients&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="n">member_servers</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;vmwareVendor&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;vcenterHostName&quot;</span><span class="p">:</span> <span class="n">vcenter_hostname</span><span class="p">,</span>
                            <span class="s2">&quot;virtualCenter&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">vcenter_username</span><span class="p">,</span>
                                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">vcenter_password</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.add_share_point_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_share_point_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_share_point_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">server_plan</span><span class="p">,</span>
            <span class="n">service_type</span><span class="p">,</span>
            <span class="n">index_server</span><span class="p">,</span>
            <span class="n">access_nodes_list</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new Office 365 Share Point Pseudo Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name                 (str)   --  name of the new Sharepoint Pseudo Client</span>

<span class="sd">                server_plan                 (str)   --  server_plan to associate with the client</span>

<span class="sd">                service_type                (dict)  --  service type of Sharepoint</span>
<span class="sd">                                                         &quot;ServiceType&quot;: {</span>
<span class="sd">                                                                    &quot;Sharepoint Global Administrator&quot;: 4</span>
<span class="sd">                                                         }</span>

<span class="sd">                index_server                (str)   --  index server for virtual client</span>

<span class="sd">                access_nodes_list           (list)  --  list containing client names / client objects</span>

<span class="sd">            Kwargs :</span>

<span class="sd">                tenant_url                  (str)   --  url of sharepoint tenant</span>

<span class="sd">                user_username                (str)   --  username of sharepoint user</span>

<span class="sd">                user_password               (str)   -- password of sharepoint user</span>

<span class="sd">                azure_username              (str)   --  username of azure app</span>

<span class="sd">                azure_secret                (str)   --  secret key of azure app</span>

<span class="sd">                global_administrator        (str)   --  username of global administrator</span>

<span class="sd">                global_administrator_password (str)  -- password of global administrator</span>

<span class="sd">                azure_app_id            (str)       --  azure app id for sharepoint online</span>

<span class="sd">                azure_app_key_id        (str)       --  app key for sharepoint online</span>

<span class="sd">                azure_directory_id    (str)   --  azure directory id for sharepoint online</span>


<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if index_server is not found</span>

<span class="sd">                    if server_plan is not found</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="n">index_server_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">index_server</span><span class="p">):</span>
            <span class="n">index_server_cloud</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index_server</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">index_server_cloud</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;big data apps&#39;</span><span class="p">):</span>
                <span class="n">index_server_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;mediaAgentId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">index_server_cloud</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                    <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
                    <span class="s2">&quot;mediaAgentName&quot;</span><span class="p">:</span> <span class="n">index_server_cloud</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;IndexServers&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">has_plan</span><span class="p">(</span><span class="n">server_plan</span><span class="p">):</span>
            <span class="n">server_plan_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">server_plan</span><span class="p">)</span>
            <span class="n">server_plan_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;planId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">server_plan_object</span><span class="o">.</span><span class="n">plan_id</span><span class="p">),</span>
                <span class="s2">&quot;planType&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">server_plan_object</span><span class="o">.</span><span class="n">plan_type</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Storage&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>

        <span class="n">member_servers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">access_nodes_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
                    <span class="n">client_dict</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span>
                            <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]),</span>
                            <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">Client</span><span class="p">):</span>
                <span class="n">client_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
                        <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                        <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">37</span><span class="p">,</span>
                <span class="s2">&quot;lookupPlanInfo&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;sharepointPseudoClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;sharePointVersion&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
                    <span class="s2">&quot;sharepointBackupSet&quot;</span><span class="p">:</span> <span class="p">{</span>

                    <span class="p">},</span>
                    <span class="s2">&quot;indexServer&quot;</span><span class="p">:</span> <span class="n">index_server_dict</span><span class="p">,</span>
                    <span class="s2">&quot;jobResultsDir&quot;</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="s2">&quot;primaryMemberServer&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;sharePointVersion&quot;</span><span class="p">:</span> <span class="mi">23</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;spMemberServers&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="n">member_servers</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="s2">&quot;plan&quot;</span><span class="p">:</span> <span class="n">server_plan_dict</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>

        <span class="p">}</span>
        <span class="n">tenant_url</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tenant_url&#39;</span><span class="p">)</span>
        <span class="n">global_administrator</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;global_administrator&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tenant_url</span><span class="p">:</span>
            <span class="n">azure_secret</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;azure_secret&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">user_password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;user_password&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

            <span class="n">request_json</span><span class="p">[</span><span class="s2">&quot;clientInfo&quot;</span><span class="p">][</span><span class="s2">&quot;sharepointPseudoClientProperties&quot;</span><span class="p">][</span><span class="s2">&quot;sharepointBackupSet&quot;</span><span class="p">][</span>
                <span class="s2">&quot;spOffice365BackupSetProp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;tenantUrlItem&quot;</span><span class="p">:</span> <span class="n">tenant_url</span><span class="p">,</span>
                    <span class="s2">&quot;cloudRegion&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;infraStructurePoolEnabled&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;serviceAccounts&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;serviceType&quot;</span><span class="p">:</span> <span class="n">service_type</span><span class="p">[</span><span class="s2">&quot;Sharepoint Online&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;userAccount&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">user_password</span><span class="p">,</span>
                                    <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;user_username&#39;</span><span class="p">)</span>
                                <span class="p">}</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;serviceType&quot;</span><span class="p">:</span> <span class="n">service_type</span><span class="p">[</span><span class="s2">&quot;Sharepoint Azure Storage&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;userAccount&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">azure_secret</span><span class="p">,</span>
                                    <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;azure_username&#39;</span><span class="p">)</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;office365Credentials&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;azureAppList&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;azureApps&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;azureDirectoryId&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;azureAppId&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
        <span class="k">elif</span> <span class="n">global_administrator</span><span class="p">:</span>
            <span class="n">azure_app_key_id</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;azure_app_key_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">global_administrator_password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;global_administrator_password&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

            <span class="n">request_json</span><span class="p">[</span><span class="s2">&quot;clientInfo&quot;</span><span class="p">][</span><span class="s2">&quot;sharepointPseudoClientProperties&quot;</span><span class="p">][</span><span class="s2">&quot;sharepointBackupSet&quot;</span><span class="p">][</span>
                <span class="s2">&quot;spOffice365BackupSetProp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;cloudRegion&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;infraStructurePoolEnabled&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;serviceAccounts&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;serviceType&quot;</span><span class="p">:</span> <span class="n">service_type</span><span class="p">[</span><span class="s2">&quot;Sharepoint Global Administrator&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;userAccount&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">global_administrator</span><span class="p">,</span>
                                    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">global_administrator_password</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;office365Credentials&quot;</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="s2">&quot;azureAppList&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;azureApps&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;azureAppId&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;azure_app_id&#39;</span><span class="p">),</span>
                                <span class="s2">&quot;azureAppKeyValue&quot;</span><span class="p">:</span> <span class="n">azure_app_key_id</span><span class="p">,</span>
                                <span class="s2">&quot;azureDirectoryId&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;azure_directory_id&#39;</span><span class="p">)</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_SHAREPOINT_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>

                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>

                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.add_splunk_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_splunk_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_splunk_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">new_client_name</span><span class="p">,</span>
                          <span class="n">password</span><span class="p">,</span>
                          <span class="n">master_uri</span><span class="p">,</span>
                          <span class="n">master_node</span><span class="p">,</span>
                          <span class="n">user_name</span><span class="p">,</span>
                          <span class="n">plan</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds new splunk client after clientname and plan validation</span>

<span class="sd">        Args:</span>
<span class="sd">            new_client_name       (str)   --  new splunk client name</span>

<span class="sd">            password              (str)   --  splunk instance password</span>

<span class="sd">            master_uri            (str)   --  URI for the master node</span>

<span class="sd">            master_node           (str)   --  master node name</span>

<span class="sd">            user_name             (str)   --  splunk instance username</span>

<span class="sd">            plan                  (str)   --  plan assocated with the new client</span>

<span class="sd">        Returns:</span>
<span class="sd">                client_object     (obj)   --  client object associated with the new splunk client</span>

<span class="sd">        Raises:</span>
<span class="sd">            SDKException:</span>
<span class="sd">                if failed to add the client</span>

<span class="sd">                if response is empty</span>

<span class="sd">                if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">has_plan</span><span class="p">(</span><span class="n">plan</span><span class="p">):</span>
            <span class="n">plan_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">plan</span><span class="p">)</span>
            <span class="n">plan_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">plan_object</span><span class="o">.</span><span class="n">plan_id</span><span class="p">)</span>
            <span class="n">plan_type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">plan_object</span><span class="o">.</span><span class="n">plan_type</span><span class="p">)</span>
            <span class="n">plan_subtype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">plan_object</span><span class="o">.</span><span class="n">subtype</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Plan&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Provide Valid Plan Name&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">master_node</span><span class="p">):</span>
            <span class="n">client_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">master_node</span><span class="o">.</span><span class="n">lower</span><span class="p">()][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Provide Valid Master Client&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
                <span class="s2">&quot;distributedClusterInstanceProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clusterType&quot;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
                    <span class="s2">&quot;opType&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                    <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">new_client_name</span><span class="p">,</span>
                        <span class="s2">&quot;instanceName&quot;</span><span class="p">:</span> <span class="n">new_client_name</span><span class="p">,</span>
                        <span class="s2">&quot;instanceId&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;applicationId&quot;</span><span class="p">:</span> <span class="mi">64</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;clusterConfig&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;splunkConfig&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">master_uri</span><span class="p">,</span>
                            <span class="s2">&quot;primaryNode&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="n">client_id</span><span class="p">,</span>
                                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">master_node</span>
                                <span class="p">}</span>
                            <span class="p">},</span>
                            <span class="s2">&quot;splunkUser&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
                                <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">user_name</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="s2">&quot;plan&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;planSubtype&quot;</span><span class="p">:</span> <span class="n">plan_subtype</span><span class="p">,</span>
                    <span class="s2">&quot;planType&quot;</span><span class="p">:</span> <span class="n">plan_type</span><span class="p">,</span>
                    <span class="s2">&quot;planName&quot;</span><span class="p">:</span> <span class="n">plan</span><span class="p">,</span>
                    <span class="s2">&quot;planId&quot;</span><span class="p">:</span> <span class="n">plan_id</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">new_client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_SPLUNK_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">new_client_name</span><span class="p">)</span>

                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.add_exchange_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_exchange_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_exchange_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">index_server</span><span class="p">,</span>
            <span class="n">clients_list</span><span class="p">,</span>
            <span class="n">storage_policy</span><span class="p">,</span>
            <span class="n">recall_service_url</span><span class="p">,</span>
            <span class="n">job_result_dir</span><span class="p">,</span>
            <span class="n">exchange_servers</span><span class="p">,</span>
            <span class="n">service_accounts</span><span class="p">,</span>
            <span class="n">azure_app_key_secret</span><span class="p">,</span>
            <span class="n">azure_tenant_name</span><span class="p">,</span>
            <span class="n">azure_app_key_id</span><span class="p">,</span>
            <span class="n">environment_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new Exchange Mailbox Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name             (str)   --  name of the new Exchange Mailbox Client</span>

<span class="sd">                index_server            (str)   --  index server for virtual cleint</span>

<span class="sd">                clients_list            (list)  --  list cotaining client names / client objects,</span>
<span class="sd">                to associate with the Virtual Client</span>

<span class="sd">                storage_policy          (str)   --  storage policy to associate with the client</span>

<span class="sd">                recall_service_url      (str)   --  recall service for client</span>

<span class="sd">                job_result_dir          (str)   --  job reult directory path</span>

<span class="sd">                exchange_servers        (list)  --  list of exchange servers</span>

<span class="sd">                azure_app_key_secret    (str)   --  app secret for the Exchange online</span>

<span class="sd">                azure_tenant_name       (str)   --  tenant for exchange online</span>

<span class="sd">                azure_app_key_id        (str)   --  app key for exchange online</span>

<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exchange_servers</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">index_server_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">storage_policy_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">index_server</span><span class="p">):</span>
            <span class="n">index_server_cloud</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index_server</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">index_server_cloud</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;big data apps&#39;</span><span class="p">):</span>
                <span class="n">index_server_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;mediaAgentId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">index_server_cloud</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                    <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
                    <span class="s2">&quot;mediaAgentName&quot;</span><span class="p">:</span> <span class="n">index_server_cloud</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">storage_policies</span><span class="o">.</span><span class="n">has_policy</span><span class="p">(</span><span class="n">storage_policy</span><span class="p">):</span>
            <span class="n">storage_policy_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">storage_policies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">storage_policy</span><span class="p">)</span>

            <span class="n">storage_policy_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;storagePolicyName&quot;</span><span class="p">:</span> <span class="n">storage_policy_object</span><span class="o">.</span><span class="n">storage_policy_name</span><span class="p">,</span>
                <span class="s2">&quot;storagePolicyId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">storage_policy_object</span><span class="o">.</span><span class="n">storage_policy_id</span><span class="p">)</span>
            <span class="p">}</span>

        <span class="n">account_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">member_servers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
                    <span class="n">temp_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
                    <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">temp_client</span><span class="p">)</span>
                    <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">temp_client</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">Client</span><span class="p">):</span>
                <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
                <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">service_accounts</span><span class="p">:</span>
            <span class="n">account_dict</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">account_dict</span><span class="p">[</span><span class="s1">&#39;serviceType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;ServiceType&#39;</span><span class="p">]</span>

            <span class="n">user_account_dict</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">if</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;ServiceType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">account_dict</span><span class="p">[</span><span class="s1">&#39;exchangeAdminSmtpAddress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;Username&#39;</span><span class="p">]</span>
                <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;Username&#39;</span><span class="p">]</span>
            <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;Password&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;confirmPassword&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;Password&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">account_dict</span><span class="p">[</span><span class="s1">&#39;userAccount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">user_account_dict</span>

            <span class="n">account_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">account_dict</span><span class="p">)</span>

        <span class="n">azure_app_key_secret</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">azure_app_key_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
                <span class="s2">&quot;exchangeOnePassClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;recallService&quot;</span><span class="p">:</span> <span class="n">recall_service_url</span><span class="p">,</span>
                    <span class="s2">&quot;onePassProp&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;environmentType&quot;</span><span class="p">:</span> <span class="n">environment_type</span><span class="p">,</span>
                        <span class="s2">&quot;azureDetails&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;azureAppKeySecret&quot;</span><span class="p">:</span> <span class="n">azure_app_key_secret</span><span class="p">,</span>
                            <span class="s2">&quot;azureTenantName&quot;</span><span class="p">:</span> <span class="n">azure_tenant_name</span><span class="p">,</span>
                            <span class="s2">&quot;azureAppKeyID&quot;</span><span class="p">:</span> <span class="n">azure_app_key_id</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;servers&quot;</span><span class="p">:</span> <span class="n">exchange_servers</span><span class="p">,</span>
                        <span class="s2">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;adminAccounts&quot;</span><span class="p">:</span> <span class="n">account_list</span>
                        <span class="p">}</span>

                    <span class="p">},</span>
                    <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="n">member_servers</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;indexServer&quot;</span><span class="p">:</span> <span class="n">index_server_dict</span><span class="p">,</span>
                    <span class="s2">&quot;dataArchiveGroup&quot;</span><span class="p">:</span> <span class="n">storage_policy_dict</span><span class="p">,</span>
                    <span class="s2">&quot;jobResulsDir&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">job_result_dir</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_EXCHANGE_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.add_case_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_case_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_case_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">server_plan</span><span class="p">,</span>
            <span class="n">dc_plan</span><span class="p">,</span>
            <span class="n">hold_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new Exchange Mailbox Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name             (str)   --  name of the new Case Client</span>

<span class="sd">                server_plan             (str)   --  Server plan to assocaite to case</span>

<span class="sd">                dc_plan                (str)    --  DC plan to assocaite to case</span>

<span class="sd">                hold_type              (int)    --  Type of client (values: 1, 2, 3)</span>

<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">plans_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dc_plan_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">has_plan</span><span class="p">(</span><span class="n">dc_plan</span><span class="p">):</span>
            <span class="n">dc_plan_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dc_plan</span><span class="p">)</span>
            <span class="n">dc_plan_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;planId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">dc_plan_object</span><span class="o">.</span><span class="n">plan_id</span><span class="p">),</span>
                <span class="s2">&quot;planType&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">dc_plan_object</span><span class="o">.</span><span class="n">plan_type</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="n">plans_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dc_plan_dict</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">has_plan</span><span class="p">(</span><span class="n">server_plan</span><span class="p">):</span>
            <span class="n">server_plan_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">plans</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">server_plan</span><span class="p">)</span>
            <span class="n">server_plan_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;planId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">server_plan_object</span><span class="o">.</span><span class="n">plan_id</span><span class="p">),</span>
                <span class="s2">&quot;planType&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">server_plan_object</span><span class="o">.</span><span class="n">plan_type</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="n">plans_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">server_plan_dict</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span>
                <span class="s2">&quot;edgeDrivePseudoClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;eDiscoveryInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;custodians&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="s2">&quot;plan&quot;</span><span class="p">:</span> <span class="n">dc_plan_dict</span><span class="p">,</span>
                <span class="s2">&quot;exchangeOnePassClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;backupSetTypeToCreate&quot;</span><span class="p">:</span> <span class="n">hold_type</span>
                <span class="p">},</span>
                <span class="s2">&quot;caseManagerPseudoClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;eDiscoveryInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;eDiscoverySubType&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;additionalPlans&quot;</span><span class="p">:</span> <span class="n">plans_list</span><span class="p">,</span>
                        <span class="s2">&quot;appTypeIds&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="mi">137</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span><span class="p">,</span>
                <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_EXCHANGE_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.add_salesforce_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_salesforce_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_salesforce_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">access_node</span><span class="p">,</span>
            <span class="n">salesforce_options</span><span class="p">,</span>
            <span class="n">db_options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new Salesforce Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name          (str)    --    salesforce pseudo client name</span>
<span class="sd">                access_node          (str)    --    access node name</span>

<span class="sd">                salesforce_options   (dict)   --    salesforce options</span>
<span class="sd">                                                    {</span>
<span class="sd">                                                        &quot;login_url&quot;: &#39;salesforce login url&#39;,</span>
<span class="sd">                                                        &quot;consume_id&quot;: &#39;salesforce consumer key&#39;,</span>
<span class="sd">                                                        &quot;consumer_secret&quot;: &#39;salesforce consumer secret&#39;,</span>
<span class="sd">                                                        &quot;salesforce_user_name&quot;: &#39;salesforce login user&#39;,</span>
<span class="sd">                                                        &quot;salesforce_user_password&quot;: &#39;salesforce user password&#39;,</span>
<span class="sd">                                                        &quot;salesforce_user_token&quot;: &#39;salesforce user token&#39;</span>
<span class="sd">                                                    }</span>

<span class="sd">                db_options           (dict)   --    database options to configure sync db</span>
<span class="sd">                                                    {</span>
<span class="sd">                                                        &quot;db_enabled&quot;: &#39;True or False&#39;,</span>
<span class="sd">                                                        &quot;db_type&quot;: &#39;SQLSERVER or POSTGRESQL&#39;,</span>
<span class="sd">                                                        &quot;db_host_name&quot;: &#39;database hostname&#39;,</span>
<span class="sd">                                                        &quot;db_instance&quot;: &#39;database instance name&#39;,</span>
<span class="sd">                                                        &quot;db_name&quot;: &#39;database name&#39;,</span>
<span class="sd">                                                        &quot;db_port&quot;: &#39;port of the database&#39;,</span>
<span class="sd">                                                        &quot;db_user_name&quot;: &#39;database user name&#39;,</span>
<span class="sd">                                                        &quot;db_user_password&quot;: &#39;database user password&#39;</span>
<span class="sd">                                                    }</span>

<span class="sd">                **kwargs             (dict)   --    dict of keyword arguments as follows</span>

<span class="sd">                                                    instance_name           (str)   -- name of the salesforce instance</span>
<span class="sd">                                                    download_cache_path     (str)   -- download cache path</span>
<span class="sd">                                                    mutual_auth_path        (str)   -- mutual auth certificate path</span>
<span class="sd">                                                    storage_policy          (str)   -- storage policy</span>
<span class="sd">                                                    streams                 (int)   -- number of streams</span>



<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">db_options</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">db_options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;db_enabled&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="n">salesforce_password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">salesforce_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;salesforce_user_password&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">salesforce_consumer_secret</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span>
            <span class="n">salesforce_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;consumer_secret&#39;</span><span class="p">,</span> <span class="s1">&#39;3951207263309722430&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">salesforce_token</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">salesforce_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;salesforce_user_token&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">db_user_password</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_enabled&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="n">db_user_password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_user_password&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
                <span class="s2">&quot;cloudClonnectorProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;instanceType&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                    <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span><span class="p">,</span>
                            <span class="s2">&quot;instanceName&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;instance_name&#39;</span><span class="p">,</span> <span class="s1">&#39;ORG1&#39;</span><span class="p">),</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;cloudAppsInstance&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;instanceType&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                            <span class="s2">&quot;salesforceInstance&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;enableREST&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="n">salesforce_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;login_url&#39;</span><span class="p">,</span> <span class="s2">&quot;https://login.salesforce.com&quot;</span><span class="p">),</span>
                                <span class="s2">&quot;consumerId&quot;</span><span class="p">:</span> <span class="n">salesforce_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;consumer_id&#39;</span><span class="p">,</span>
                                                                     <span class="s1">&#39;3MVG9Nc1qcZ7BbZ0Ep18pfQsltTkZtbcMG9GMQzsVHGS8268yaOqmZ1lEEakAs8Xley85RBH1xKR1.eoUu1Z4&#39;</span><span class="p">),</span>
                                <span class="s2">&quot;consumerSecret&quot;</span><span class="p">:</span> <span class="n">salesforce_consumer_secret</span><span class="p">,</span>
                                <span class="s2">&quot;defaultBackupsetProp&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s2">&quot;downloadCachePath&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;download_cache_path&#39;</span><span class="p">,</span> <span class="s1">&#39;/tmp&#39;</span><span class="p">),</span>
                                    <span class="s2">&quot;mutualAuthPath&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mutual_auth_path&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                                    <span class="s2">&quot;token&quot;</span><span class="p">:</span> <span class="n">salesforce_token</span><span class="p">,</span>
                                    <span class="s2">&quot;userPassword&quot;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">salesforce_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;salesforce_user_name&#39;</span><span class="p">),</span>
                                        <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">salesforce_password</span><span class="p">,</span>
                                    <span class="p">},</span>
                                    <span class="s2">&quot;syncDatabase&quot;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="s2">&quot;dbEnabled&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_enabled&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                                        <span class="s2">&quot;dbPort&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_port&#39;</span><span class="p">,</span> <span class="s1">&#39;1433&#39;</span><span class="p">),</span>
                                        <span class="s2">&quot;dbInstance&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_instance&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                                        <span class="s2">&quot;dbName&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_name&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;instance_name&#39;</span><span class="p">,</span> <span class="s1">&#39;ORG1&#39;</span><span class="p">)),</span>
                                        <span class="s2">&quot;dbType&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_type&#39;</span><span class="p">,</span> <span class="s2">&quot;SQLSERVER&quot;</span><span class="p">),</span>
                                        <span class="s2">&quot;dbHost&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_host_name&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                                        <span class="s2">&quot;dbUserPassword&quot;</span><span class="p">:</span> <span class="p">{</span>
                                            <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">db_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;db_user_name&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                                            <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">db_user_password</span><span class="p">,</span>

                                        <span class="p">},</span>
                                    <span class="p">},</span>
                                <span class="p">},</span>
                            <span class="p">},</span>
                            <span class="s2">&quot;generalCloudProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;numberOfBackupStreams&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;streams&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                                <span class="s2">&quot;proxyServers&quot;</span><span class="p">:</span> <span class="p">[</span>
                                    <span class="p">{</span>
                                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">access_node</span>
                                    <span class="p">}</span>
                                <span class="p">],</span>
                                <span class="s2">&quot;storageDevice&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s2">&quot;dataBackupStoragePolicy&quot;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="s2">&quot;storagePolicyName&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;storage_policy&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                                    <span class="p">},</span>
                                <span class="p">},</span>
                            <span class="p">},</span>
                        <span class="p">},</span>
                    <span class="p">},</span>
                <span class="p">},</span>
            <span class="p">},</span>

            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_process_add_response</span><span class="p">(</span><span class="n">request_json</span><span class="p">)</span></div>

<div class="viewcode-block" id="Clients.add_azure_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.add_azure_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_azure_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">access_node</span><span class="p">,</span> <span class="n">azure_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Method to add new azure cloud client</span>
<span class="sd">            Args:</span>
<span class="sd">                client_name     (str)   -- azure client name</span>
<span class="sd">                access_node     (str)   -- cloud access node name</span>
<span class="sd">                azure_options   (dict)  -- dictionary for Azure details:</span>
<span class="sd">                                            Example:</span>
<span class="sd">                                               azure_options = {</span>
<span class="sd">                                                    &quot;subscription_id&quot;: &#39;subscription id&#39;,</span>
<span class="sd">                                                    &quot;tenant_id&quot;: &#39;tenant id&#39;,</span>
<span class="sd">                                                    &quot;application_id&quot;: &#39;application id&#39;,</span>
<span class="sd">                                                    &quot;password&quot;: &#39;application password&#39;,</span>
<span class="sd">                                                }</span>
<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>
<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if None value in azure options</span>

<span class="sd">                    if pseudo client with same name already exists</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="kc">None</span> <span class="ow">in</span> <span class="n">azure_options</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                <span class="s1">&#39;Client&#39;</span><span class="p">,</span>
                <span class="s1">&#39;102&#39;</span><span class="p">,</span>
                <span class="s2">&quot;One of the azure parameters is none so cannot proceed with pseudo client creation&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">client_name</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># encodes the plain text password using base64 encoding</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">azure_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                <span class="s2">&quot;virtualServerClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;virtualServerInstanceInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;vsInstanceType&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
                        <span class="s2">&quot;azureResourceManager&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;tenantId&quot;</span><span class="p">:</span> <span class="n">azure_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tenant_id&quot;</span><span class="p">),</span>
                            <span class="s2">&quot;serverName&quot;</span><span class="p">:</span> <span class="n">client_name</span><span class="p">,</span>
                            <span class="s2">&quot;subscriptionId&quot;</span><span class="p">:</span> <span class="n">azure_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;subscription_id&quot;</span><span class="p">),</span>
                            <span class="s2">&quot;credentials&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
                                <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">azure_options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;application_id&quot;</span><span class="p">)</span>
                            <span class="p">}</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;associatedClients&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">access_node</span>
                                    <span class="p">}</span>
                                <span class="p">}</span>
                            <span class="p">]</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;vmwareVendor&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;vcenterHostName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
                        <span class="p">}</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;appTypes&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;appName&quot;</span><span class="p">:</span> <span class="s2">&quot;Virtual Server&quot;</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_process_add_response</span><span class="p">(</span><span class="n">request_json</span><span class="p">)</span></div>

<div class="viewcode-block" id="Clients.get"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a client object if client name or host name or ID matches the client attribute</span>
<span class="sd">            We check if specified name matches any of the existing client names else</span>
<span class="sd">            compare specified name with host names of existing clients else if name matches with the ID</span>

<span class="sd">            Args:</span>
<span class="sd">                name (str/int)  --  name / hostname / ID of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Client class for the given client name</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string or Int</span>

<span class="sd">                    if no client exists with the given name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">client_name</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">client_id</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="n">client_from_hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_from_hostname</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_hidden_client</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="n">client_from_hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_hidden_client_from_hostname</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                    <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;No client exists with given name/hostname: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="n">client_name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">client_from_hostname</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">client_from_hostname</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>

            <span class="k">return</span> <span class="n">Client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">client_id</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">client_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">client_name</span> <span class="k">for</span> <span class="n">client_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span>
                           <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

            <span class="k">if</span> <span class="n">client_name</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;No client exists with the given ID: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>

        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Clients.delete"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deletes the client from the commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name (str)  --  name of the client to remove from the commcell</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>

<span class="sd">                    if failed to delete client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">                    if no client exists with the given name</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">client_name</span> <span class="o">=</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
                <span class="n">client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
                <span class="n">client_delete_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CLIENT&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
                <span class="n">client_delete_service</span> <span class="o">+=</span> <span class="s2">&quot;?forceDelete=1&quot;</span>

                <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;DELETE&#39;</span><span class="p">,</span> <span class="n">client_delete_service</span><span class="p">)</span>

                <span class="n">error_code</span> <span class="o">=</span> <span class="n">warning_code</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to delete client&#39;</span>
                        <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="c1"># initialize the clients again</span>
                                <span class="c1"># so the client object has all the clients</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                                <span class="n">o_str</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                            <span class="k">if</span> <span class="s1">&#39;warningCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                                <span class="n">warning_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;warningCode&#39;</span><span class="p">]</span>

                            <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">error_message</span><span class="p">:</span>
                                    <span class="n">o_str</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                            <span class="k">elif</span> <span class="n">warning_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">warning_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;warningMessage&#39;</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">warning_message</span><span class="p">:</span>
                                    <span class="n">o_str</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Warning: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">warning_message</span><span class="p">)</span>

                            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                    <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;No client exists with name: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="Clients.refresh"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Clients.refresh">[docs]</a>    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Refresh the clients associated with the Commcell.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_clients</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_hidden_clients</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_virtualization_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_virtualization_clients</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_office_365_clients</span> <span class="o">=</span> <span class="kc">None</span></div></div>

<div class="viewcode-block" id="Client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client">[docs]</a><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for performing client operations for a specific client.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commcell_object</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise the Client class instance.</span>

<span class="sd">            Args:</span>
<span class="sd">                commcell_object (object)     --  instance of the Commcell class</span>

<span class="sd">                client_name     (str)        --  name of the client</span>

<span class="sd">                client_id       (str)        --  id of the client</span>
<span class="sd">                    default: None</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Client class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span> <span class="o">=</span> <span class="n">commcell_object</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_cvpysdk_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_services</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_update_response_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client_name</span> <span class="o">=</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">client_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_id</span><span class="p">()</span>

        <span class="n">_client_type</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Client&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;Hidden Client&#39;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_type_id</span> <span class="o">=</span> <span class="n">_client_type</span><span class="p">[</span><span class="s1">&#39;Client&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_type_id</span> <span class="o">=</span> <span class="n">_client_type</span><span class="p">[</span><span class="s1">&#39;Hidden Client&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CLIENT&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_network_throttle</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_os_info</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_install_directory</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_service_pack</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_owners</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_backup_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_ci_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_aging_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_management_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_recovery_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_intelli_snap_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_restore_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_hostname</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_job_results_directory</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cvd_port</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_job_start_time</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timezone</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_readiness</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the instance of this class.&quot;&quot;&quot;</span>
        <span class="n">representation_string</span> <span class="o">=</span> <span class="s1">&#39;Client class instance for Client: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span>
        <span class="k">return</span> <span class="n">representation_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the client id associated with this client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str - id associated with this client</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span><span class="o">.</span><span class="n">client_id</span>

    <span class="k">def</span> <span class="nf">_get_client_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the client properties of this client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict - dictionary consisting of the properties of this client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">os_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;osInfo&#39;</span><span class="p">]</span>
                <span class="n">processor_type</span> <span class="o">=</span> <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;OsDisplayInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ProcessorType&#39;</span><span class="p">]</span>
                <span class="n">os_name</span> <span class="o">=</span> <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;OsDisplayInfo&#39;</span><span class="p">][</span><span class="s1">&#39;OSName&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cvd_port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;cvdPort&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_os_info</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> </span><span class="si">{1}</span><span class="s1"> </span><span class="si">{2}</span><span class="s1">  --  </span><span class="si">{3}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">processor_type</span><span class="p">,</span>
                    <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">],</span>
                    <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;SubType&#39;</span><span class="p">],</span>
                    <span class="n">os_name</span>
                <span class="p">)</span>

                <span class="n">client_props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_recovery_enabled</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span>
                    <span class="s1">&#39;activityControl&#39;</span><span class="p">][</span><span class="s1">&#39;EnableDataRecovery&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_management_enabled</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span>
                    <span class="s1">&#39;activityControl&#39;</span><span class="p">][</span><span class="s1">&#39;EnableDataManagement&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_ci_enabled</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;activityControl&#39;</span><span class="p">][</span><span class="s1">&#39;EnableOnlineContentIndex&#39;</span><span class="p">]</span>

                <span class="n">activities</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span><span class="s2">&quot;clientActivityControl&quot;</span><span class="p">][</span><span class="s2">&quot;activityControlOptions&quot;</span><span class="p">]</span>

                <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">activities</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_backup_enabled</span> <span class="o">=</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;enableActivityType&quot;</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_restore_enabled</span> <span class="o">=</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;enableActivityType&quot;</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">16</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_aging_enabled</span> <span class="o">=</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;enableActivityType&quot;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_client_hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_timezone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;TimeZone&#39;</span><span class="p">][</span><span class="s1">&#39;TimeZoneName&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_intelli_snap_enabled</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;EnableSnapBackups&#39;</span><span class="p">])</span>

                <span class="k">if</span> <span class="s1">&#39;installDirectory&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_install_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;installDirectory&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;jobResulsDir&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_job_results_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;jobResulsDir&#39;</span><span class="p">][</span><span class="s1">&#39;path&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;GalaxyRelease&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;versionInfo&#39;</span><span class="p">][</span><span class="s1">&#39;GalaxyRelease&#39;</span><span class="p">][</span><span class="s1">&#39;ReleaseString&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;version&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">]:</span>
                    <span class="n">service_pack</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
                        <span class="sa">r</span><span class="s1">&#39;[ServicePack|FeatureRelease]:([\d]*)&#39;</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">][</span><span class="s1">&#39;version&#39;</span><span class="p">]</span>
                    <span class="p">)</span>

                    <span class="k">if</span> <span class="n">service_pack</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_service_pack</span> <span class="o">=</span> <span class="n">service_pack</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;clientSecurity&#39;</span> <span class="ow">in</span> <span class="n">client_props</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_client_owners</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;clientSecurity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clientOwners&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="s1">&#39;jobStartTime&#39;</span> <span class="ow">in</span> <span class="n">client_props</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_job_start_time</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;jobStartTime&#39;</span><span class="p">]</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_request_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">enable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enable_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">job_start_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the JSON request to pass to the API as per the options selected by the user.</span>

<span class="sd">            Args:</span>
<span class="sd">                option (str)  --  string option for which to run the API for</span>
<span class="sd">                    e.g.; Backup / Restore / Data Aging</span>

<span class="sd">                **kwargs (dict)  -- dict of keyword arguments as follows</span>

<span class="sd">                    timezone    (str)   -- timezone to be used of the operation</span>

<span class="sd">                        **Note** make use of TIMEZONES dict in constants.py to pass timezone</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict - JSON request to pass to the API</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Backup&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;Restore&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;Data Aging&quot;</span><span class="p">:</span> <span class="mi">16</span>
        <span class="p">}</span>

        <span class="n">request_json1</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[{</span>
                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}]</span>
            <span class="p">},</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientProps&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clientActivityControl&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;activityControlOptions&quot;</span><span class="p">:</span> <span class="p">[{</span>
                            <span class="s2">&quot;activityType&quot;</span><span class="p">:</span> <span class="n">options_dict</span><span class="p">[</span><span class="n">option</span><span class="p">],</span>
                            <span class="s2">&quot;enableAfterADelay&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="s2">&quot;enableActivityType&quot;</span><span class="p">:</span> <span class="n">enable</span>
                        <span class="p">}]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">request_json2</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[{</span>
                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}]</span>
            <span class="p">},</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientProps&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clientActivityControl&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;activityControlOptions&quot;</span><span class="p">:</span> <span class="p">[{</span>
                            <span class="s2">&quot;activityType&quot;</span><span class="p">:</span> <span class="n">options_dict</span><span class="p">[</span><span class="n">option</span><span class="p">],</span>
                            <span class="s2">&quot;enableAfterADelay&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="s2">&quot;enableActivityType&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="s2">&quot;dateTime&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;TimeZoneName&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;timezone&quot;</span><span class="p">,</span> <span class="s2">&quot;(UTC) Coordinated Universal Time&quot;</span><span class="p">),</span>
                                <span class="s2">&quot;timeValue&quot;</span><span class="p">:</span> <span class="n">enable_time</span>
                            <span class="p">}</span>
                        <span class="p">}]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">enable_time</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">request_json2</span>

        <span class="k">if</span> <span class="n">job_start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request_json1</span><span class="p">[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">][</span><span class="s1">&#39;clientProps&#39;</span><span class="p">][</span><span class="s1">&#39;jobStartTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_start_time</span>

        <span class="k">return</span> <span class="n">request_json1</span>

    <span class="k">def</span> <span class="nf">_update_client_props_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">properties_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the update client properties JSON request to pass to the API as per</span>
<span class="sd">            the property mentioned by the user.</span>

<span class="sd">            Args:</span>
<span class="sd">                properties_dict (dict)  --  client property dict which is to be updated</span>
<span class="sd">                    e.g.: {</span>
<span class="sd">                            &quot;EnableSnapBackups&quot;: True</span>
<span class="sd">                          }</span>

<span class="sd">            Returns:</span>
<span class="sd">                Client Properties update dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientProps&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">},</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">request_json</span><span class="p">[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">][</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">properties_dict</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">request_json</span>

    <span class="k">def</span> <span class="nf">_make_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">upload_url</span><span class="p">,</span>
                      <span class="n">file_contents</span><span class="p">,</span>
                      <span class="n">headers</span><span class="p">,</span>
                      <span class="n">request_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">chunk_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Makes the request to the server to upload the specified file contents on the</span>
<span class="sd">            client machine</span>

<span class="sd">            Args:</span>
<span class="sd">                upload_url      (str)   --  request url on which the request is to be done</span>

<span class="sd">                file_contents   (str)   --  data from the file which is to be copied</span>

<span class="sd">                headers         (str)   --  request headers for this api</span>

<span class="sd">                request_id      (int)   --  request id received from the first upload request.</span>
<span class="sd">                                                request id is used to uniquely identify</span>
<span class="sd">                                                chunks of data</span>
<span class="sd">                    default: None</span>

<span class="sd">                chunk_offset    (int)   --  number of bytes written till previous upload request.</span>
<span class="sd">                                                chunk_offset is used to specify from where to</span>
<span class="sd">                                                write data on specified file</span>
<span class="sd">                    default: None</span>

<span class="sd">            Returns:</span>
<span class="sd">                (int, int)  -   request id and chunk_offset returned from the response</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to upload the file</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">request_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">upload_url</span> <span class="o">+=</span> <span class="s1">&#39;&amp;requestId=</span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request_id</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">upload_url</span><span class="p">,</span> <span class="n">file_contents</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                            <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Failed to upload file with error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="n">error_string</span>
                            <span class="p">)</span>
                        <span class="p">)</span>

                <span class="k">if</span> <span class="s1">&#39;requestId&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">request_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;requestId&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;chunkOffset&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">chunk_offset</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;chunkOffset&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_instance_of_client</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the instance associated with this client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   instance on which the client is installed</span>

<span class="sd">                    e.g.;   Instance001</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to get the value of instance</span>

<span class="sd">                    if operation is not supported for the client OS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;powershell.exe Get-Content &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">install_directory</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">,</span> <span class="s1">&#39;QinetixVM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&#39; &#39;&quot;</span><span class="p">)</span>
            <span class="p">)</span>

            <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">exit_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>

        <span class="k">elif</span> <span class="s1">&#39;unix&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;cat </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">install_directory</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;galaxy_vm&#39;</span><span class="p">))</span>

            <span class="n">__</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;GALAXY_INST=&quot;(.+?)&quot;;&#39;</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">temp</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_log_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the path of the log directory on the client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   path of the log directory on the client</span>

<span class="sd">                    e.g.;</span>

<span class="sd">                        -   ..\\\\ContentStore\\\\Log Files</span>

<span class="sd">                        -   ../commvault/Log_Files</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to get the value of log directory path</span>

<span class="sd">                    if operation is not supported for the client OS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">key</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;HKLM:\SOFTWARE\CommVault Systems\Galaxy\</span><span class="si">{0}</span><span class="s1">\EventManager&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>

            <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span>
                <span class="s1">&#39;PowerShell&#39;</span><span class="p">,</span>
                <span class="s1">&#39;(Get-ItemProperty -Path </span><span class="si">{0}</span><span class="s1">).dEVLOGDIR&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&#39; &#39;&quot;</span><span class="p">))</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">exit_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;108&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>

        <span class="k">elif</span> <span class="s1">&#39;unix&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">script</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            FILE=/etc/CommVaultRegistry/Galaxy/</span><span class="si">%s</span><span class="s2">/EventManager/.properties</span>
<span class="s2">            KEY=dEVLOGDIR</span>

<span class="s2">            get_registry_value()</span>
<span class="s2">            {</span>
<span class="s2">                cat $1 | while read line</span>
<span class="s2">                do</span>
<span class="s2">                    key=`echo $line | cut -d&#39; &#39; -f1`</span>
<span class="s2">                    if [ &quot;$key&quot; = &quot;$2&quot; ]; then</span>
<span class="s2">                        echo $line | awk &#39;{print $2}&#39;</span>
<span class="s2">                        break</span>
<span class="s2">                    fi</span>
<span class="s2">                done</span>
<span class="s2">            }</span>

<span class="s2">            echo `get_registry_value $FILE $KEY`</span>
<span class="s2">            &quot;&quot;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span>

            <span class="n">__</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s1">&#39;UnixShell&#39;</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_service_operations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to start / stop / restart a</span>
<span class="sd">            Commvault service, or ALL services.</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name        (str)   --  name of the service to be operated on</span>

<span class="sd">                    default:    None</span>

<span class="sd">                operation           (str)   --  name of the operation to be done</span>

<span class="sd">                    Valid Values are:</span>

<span class="sd">                        -   START</span>

<span class="sd">                        -   STOP</span>

<span class="sd">                        -   RESTART</span>

<span class="sd">                        -   RESTART_SVC_GRP     **Only available for Windows Clients**</span>

<span class="sd">                    default:    None</span>

<span class="sd">                    for None as the input, we will run **RESTART_SVC_GRP** operation</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the operation was performed successfully</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">operations_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;START&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;startsvc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;start&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to start &quot;</span><span class="si">{0}</span><span class="s1">&quot; service.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;STOP&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;stopsvc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;stop&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to stop &quot;</span><span class="si">{0}</span><span class="s1">&quot; service.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;RESTART&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restartsvc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restart&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to restart &quot;</span><span class="si">{0}</span><span class="s1">&quot; service.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;RESTART_SVC_GRP&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restartsvcgrp&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restart&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to restart &quot;</span><span class="si">{0}</span><span class="s1">&quot; services.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">operation</span> <span class="k">else</span> <span class="s1">&#39;RESTART_SVC_GRP&#39;</span>

        <span class="k">if</span> <span class="n">operation</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">operations_dict</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_name</span><span class="p">:</span>
            <span class="n">service_name</span> <span class="o">=</span> <span class="s1">&#39;ALL&#39;</span>

        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; -consoleMode -</span><span class="si">{1}</span><span class="s1"> </span><span class="si">{2}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">install_directory</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">,</span> <span class="s1">&#39;GxAdmin.exe&#39;</span><span class="p">]),</span>
                <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;windows_command&#39;</span><span class="p">],</span>
                <span class="n">service_name</span>
            <span class="p">)</span>

            <span class="n">__</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                    <span class="s1">&#39;Client&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;102&#39;</span><span class="p">,</span>
                    <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;exception_message&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="s1">&#39;unix&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;commvault -instance </span><span class="si">{0}</span><span class="s1"> </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;unix_command&#39;</span><span class="p">]</span>
                <span class="p">)</span>

                <span class="n">__</span><span class="p">,</span> <span class="n">__</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                        <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Failed to </span><span class="si">{0}</span><span class="s1"> services.</span><span class="se">\n</span><span class="s1">Error: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;unix_command&#39;</span><span class="p">],</span>
                            <span class="n">error</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_process_update_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request_json</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs the Client update API</span>

<span class="sd">            Args:</span>
<span class="sd">                request_json    (dict)  -- request json sent as payload</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorCode&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">error_message</span><span class="p">:</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorString&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to set property</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

<div class="viewcode-block" id="Client.update_properties"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.update_properties">[docs]</a>    <span class="k">def</span> <span class="nf">update_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">properties_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Updates the client properties</span>

<span class="sd">            Args:</span>
<span class="sd">                properties_dict (dict)  --  client property dict which is to be updated</span>

<span class="sd">            Returns:</span>
<span class="sd">                None</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to add</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response code is not as expected</span>

<span class="sd">        **Note** self.properties can be used to get a deep copy of all the properties, modify the properties which you</span>
<span class="sd">        need to change and use the update_properties method to set the properties</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">request_json</span><span class="p">[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">properties_dict</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_process_update_request</span><span class="p">(</span><span class="n">request_json</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the client properties&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the Client name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the Client display name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">]</span>

    <span class="nd">@display_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;setter to set the display name of the client</span>

<span class="sd">        Args:</span>
<span class="sd">            display_name    (str)   -- Display name to be set for the client</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">update_properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span>
        <span class="n">update_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">display_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">(</span><span class="n">update_properties</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the Client description&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;client&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clientDescription&#39;</span><span class="p">)</span>

    <span class="nd">@description</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;setter to set the display name of the client</span>

<span class="sd">        Args:</span>
<span class="sd">            description    (str)   -- description to be set for the client</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">update_properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span>
        <span class="n">update_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientDescription&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">(</span><span class="n">update_properties</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">timezone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the timezone of the client&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timezone</span>

    <span class="nd">@timezone</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">timezone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Setter to set the timezone of the client</span>

<span class="sd">        Args:</span>
<span class="sd">            timezone    (str)   -- timezone to be set for the client</span>

<span class="sd">        **Note** make use of TIMEZONES dict in constants.py to set timezone</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">update_properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span>
        <span class="n">update_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;TimeZone&#39;</span><span class="p">][</span><span class="s1">&#39;TimeZoneName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timezone</span>
        <span class="n">update_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;timezoneSetByUser&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">(</span><span class="n">update_properties</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">commcell_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the Client&#39;s commcell name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;commCellName&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name_change</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns an instance of Namechange class&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">NameChange</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_security_association</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the security association object&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">.security.security_association</span> <span class="kn">import</span> <span class="n">SecurityAssociation</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span> <span class="o">=</span> <span class="n">SecurityAssociation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">available_security_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the list of available security roles&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_security_association</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client id as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client name as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client host name as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_hostname</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">os_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the os information as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_os_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_data_recovery_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is data recovery enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_recovery_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_data_management_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is data management enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_management_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_ci_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is online content index enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_ci_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_backup_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is backup enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_backup_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_restore_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is restore enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_restore_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_data_aging_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is data aging enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_aging_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_intelli_snap_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is intelli snap enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_intelli_snap_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">install_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the install directory as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_install_directory</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the version as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_pack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the service pack as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_pack</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">owners</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client owners as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_owners</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">job_results_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the job_results_directory pack as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_results_directory</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the value of the instance the client is installed on.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_instance_of_client</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">SDKException</span><span class="p">:</span>
                <span class="c1"># pass silently if failed to get the value of instance</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the path of the log directory on the client.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_log_directory</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">SDKException</span><span class="p">:</span>
                <span class="c1"># pass silently if failed to get the value of the log directory</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">agents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the instance of the Agents class representing the list of Agents</span>
<span class="sd">        installed / configured on the Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="o">=</span> <span class="n">Agents</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the instance of the Schedules class representing the Schedules</span>
<span class="sd">        configured on the Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="n">Schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">users</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the instance of the Users class representing the list of Users</span>
<span class="sd">        with permissions set on the Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="o">=</span> <span class="n">Users</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_users</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the object of Network class&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">network_throttle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the object of NetworkThrottle class&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network_throttle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_network_throttle</span> <span class="o">=</span> <span class="n">NetworkThrottle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network_throttle</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_cluster</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the client is of cluster type&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;clusterGroupAssociation&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;clusterClientProperties&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="Client.enable_backup"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_backup">[docs]</a>    <span class="k">def</span> <span class="nf">enable_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Backup for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable backup</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Backup&#39;</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Backup</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_backup_at_time"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_backup_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">enable_backup_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Backup if not already disabled, and enables at the time specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                enable_time (str)  --  Time to enable the backup at, in 24 Hour format</span>
<span class="sd">                    format: YYYY-MM-DD HH:mm:ss</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if time value entered is less than the current time</span>

<span class="sd">                    if time value entered is not of correct format</span>

<span class="sd">                    if failed to enable backup</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time_tuple</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">enable_time</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time_tuple</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Backup&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Backup</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_backup"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.disable_backup">[docs]</a>    <span class="k">def</span> <span class="nf">disable_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Backup for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable backup</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Backup&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Backup</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_restore"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_restore">[docs]</a>    <span class="k">def</span> <span class="nf">enable_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Restore for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable restore</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Restore&#39;</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Restore</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_restore_at_time"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_restore_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">enable_restore_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Restore if not already disabled, and enables at the time specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                enable_time (str)  --  Time to enable the restore at, in 24 Hour format</span>
<span class="sd">                    format: YYYY-MM-DD HH:mm:ss</span>

<span class="sd">                **kwargs (dict)  -- dict of keyword arguments as follows</span>

<span class="sd">                    timezone    (str)   -- timezone to be used of the operation</span>

<span class="sd">                        **Note** make use of TIMEZONES dict in constants.py to pass timezone</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if time value entered is less than the current time</span>

<span class="sd">                    if time value entered is not of correct format</span>

<span class="sd">                    if failed to enable restore</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time_tuple</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">enable_time</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time_tuple</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Restore&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Restore</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_restore"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.disable_restore">[docs]</a>    <span class="k">def</span> <span class="nf">disable_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Restore for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable restore</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Restore&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Restore</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_data_aging"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_data_aging">[docs]</a>    <span class="k">def</span> <span class="nf">enable_data_aging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Data Aging for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable data aging</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Data Aging&#39;</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Data Aging</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_data_aging_at_time"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_data_aging_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">enable_data_aging_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Data Aging if not already disabled, and enables at the time specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                enable_time (str)  --  Time to enable the data aging at, in 24 Hour format</span>
<span class="sd">                    format: YYYY-MM-DD HH:mm:ss</span>

<span class="sd">                **kwargs (dict)  -- dict of keyword arguments as follows</span>

<span class="sd">                    timezone    (str)   -- timezone to be used of the operation</span>

<span class="sd">                        **Note** make use of TIMEZONES dict in constants.py to pass timezone</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if time value entered is less than the current time</span>

<span class="sd">                    if time value entered is not of correct format</span>

<span class="sd">                    if failed to enable data aging</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time_tuple</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">enable_time</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time_tuple</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Data Aging&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Data Aging</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_data_aging"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.disable_data_aging">[docs]</a>    <span class="k">def</span> <span class="nf">disable_data_aging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Data Aging for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable data aging</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Data Aging&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Data Aging</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.execute_script"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.execute_script">[docs]</a>    <span class="k">def</span> <span class="nf">execute_script</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">script_type</span><span class="p">,</span> <span class="n">script</span><span class="p">,</span> <span class="n">script_arguments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the given script of the script type on this client.</span>

<span class="sd">            **Only scripts of text format are supported**, i.e., the scripts should not have</span>
<span class="sd">            any binary/bytes content</span>

<span class="sd">            Args:</span>
<span class="sd">                script_type             (str)   --  type of script to be executed on the client</span>

<span class="sd">                    Script Types Supported:</span>

<span class="sd">                        JAVA</span>

<span class="sd">                        Python</span>

<span class="sd">                        PowerShell</span>

<span class="sd">                        WindowsBatch</span>

<span class="sd">                        UnixShell</span>

<span class="sd">                script                  (str)   --  path of the script to be executed on the client</span>

<span class="sd">                script_arguments        (str)   --  arguments to the script</span>

<span class="sd">                    default: None</span>

<span class="sd">                wait_for_completion     (bool)  --  boolean specifying whether to wait for the</span>
<span class="sd">                script execution to finish or not</span>

<span class="sd">                    default: True</span>

<span class="sd">            Returns:</span>
<span class="sd">                    (int, str, str)</span>

<span class="sd">                int     -   exit code returned from executing the script on the client</span>

<span class="sd">                    default: -1     (exit code not returned in the response)</span>

<span class="sd">                str     -   output returned from executing the script on the client</span>

<span class="sd">                    default: &#39;&#39;     (output not returned in the response)</span>

<span class="sd">                str     -   error returned from executing the script on the client</span>

<span class="sd">                    default: &#39;&#39;     (error not returned in the response)</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if script type argument is not of type string</span>

<span class="sd">                    if script argument is not of type string</span>

<span class="sd">                    if script type is not valid</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">script_type</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">basestring</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">script_types</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;java&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">&#39;powershell&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s1">&#39;windowsbatch&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s1">&#39;unixshell&#39;</span><span class="p">:</span> <span class="mi">4</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">script_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">script_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;105&#39;</span><span class="p">)</span>

        <span class="kn">import</span> <span class="nn">html</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">script</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
                <span class="n">script</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">script</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>

        <span class="n">script_lines</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">script_lines_template</span> <span class="o">=</span> <span class="s1">&#39;&lt;scriptLines val=&quot;</span><span class="si">{0}</span><span class="s1">&quot;/&gt;&#39;</span>

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">script</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
            <span class="n">script_lines</span> <span class="o">+=</span> <span class="n">script_lines_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">script_arguments</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">script_arguments</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">script_arguments</span>
        <span class="n">script_arguments</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">script_arguments</span><span class="p">)</span>

        <span class="n">xml_execute_script</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;App_ExecuteCommandReq arguments=&quot;</span><span class="si">{0}</span><span class="s2">&quot; scriptType=&quot;</span><span class="si">{1}</span><span class="s2">&quot; waitForProcessCompletion=&quot;</span><span class="si">{5}</span><span class="s2">&quot;&gt;</span>
<span class="s2">            &lt;client clientId=&quot;</span><span class="si">{2}</span><span class="s2">&quot; clientName=&quot;</span><span class="si">{3}</span><span class="s2">&quot;/&gt;</span>
<span class="s2">            &quot;</span><span class="si">{4}</span><span class="s2">&quot;</span>
<span class="s2">        &lt;/App_ExecuteCommandReq&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">script_arguments</span><span class="p">,</span>
            <span class="n">script_types</span><span class="p">[</span><span class="n">script_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
            <span class="n">script_lines</span><span class="p">,</span>
            <span class="mi">1</span> <span class="k">if</span> <span class="n">wait_for_completion</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">xml_execute_script</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">exit_code</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

                <span class="k">if</span> <span class="s1">&#39;processExitCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;processExitCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;commandLineOutput&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">output</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;commandLineOutput&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error_message</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.execute_command"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.execute_command">[docs]</a>    <span class="k">def</span> <span class="nf">execute_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">script_arguments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes a command on this client.</span>

<span class="sd">            Args:</span>
<span class="sd">                command                 (str)   --  command in string to be executed on the client</span>

<span class="sd">                script_arguments        (str)   --  arguments to the script</span>

<span class="sd">                    default: None</span>

<span class="sd">                wait_for_completion     (bool)  --  boolean specifying whether to wait for the</span>
<span class="sd">                script execution to finish or not</span>

<span class="sd">                    default: True</span>

<span class="sd">            Returns:</span>
<span class="sd">                    (int, str, str)</span>

<span class="sd">                int     -   exit code returned from executing the command on the client</span>

<span class="sd">                    default: -1     (exit code not returned in the response)</span>

<span class="sd">                str     -   output returned from executing the command on the client</span>

<span class="sd">                    default: &#39;&#39;     (output not returned in the response)</span>

<span class="sd">                str     -   error returned from executing the command on the client</span>

<span class="sd">                    default: &#39;&#39;     (error not returned in the response)</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if command argument is not of type string</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="kn">import</span> <span class="nn">html</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="n">script_arguments</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">script_arguments</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">script_arguments</span>
        <span class="n">script_arguments</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">script_arguments</span><span class="p">)</span>

        <span class="n">xml_execute_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;App_ExecuteCommandReq arguments=&quot;</span><span class="si">{0}</span><span class="s2">&quot; command=&quot;</span><span class="si">{1}</span><span class="s2">&quot; waitForProcessCompletion=&quot;</span><span class="si">{4}</span><span class="s2">&quot;&gt;</span>
<span class="s2">            &lt;processinginstructioninfo&gt;</span>
<span class="s2">                &lt;formatFlags continueOnError=&quot;1&quot; elementBased=&quot;1&quot; filterUnInitializedFields=&quot;0&quot; formatted=&quot;0&quot; ignoreUnknownTags=&quot;1&quot; skipIdToNameConversion=&quot;0&quot; skipNameToIdConversion=&quot;0&quot;/&gt;</span>
<span class="s2">            &lt;/processinginstructioninfo&gt;</span>
<span class="s2">            &lt;client clientId=&quot;</span><span class="si">{2}</span><span class="s2">&quot; clientName=&quot;</span><span class="si">{3}</span><span class="s2">&quot;/&gt;</span>
<span class="s2">        &lt;/App_ExecuteCommandReq&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">script_arguments</span><span class="p">,</span>
            <span class="n">command</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
            <span class="mi">1</span> <span class="k">if</span> <span class="n">wait_for_completion</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">xml_execute_command</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">exit_code</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

                <span class="k">if</span> <span class="s1">&#39;processExitCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;processExitCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;commandLineOutput&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">output</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;commandLineOutput&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error_message</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_intelli_snap"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.enable_intelli_snap">[docs]</a>    <span class="k">def</span> <span class="nf">enable_intelli_snap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enables Intelli Snap for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable intelli snap</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enable_intelli_snap_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;EnableSnapBackups&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">}</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">enable_intelli_snap_dict</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Inetlli Snap</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_intelli_snap"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.disable_intelli_snap">[docs]</a>    <span class="k">def</span> <span class="nf">disable_intelli_snap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Intelli Snap for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable intelli snap</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">disable_intelli_snap_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;EnableSnapBackups&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">disable_intelli_snap_dict</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Inetlli Snap</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if CommServ is able to communicate to the client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                True    -   if the CS is able to connect to the client</span>

<span class="sd">                False   -   if communication fails b/w the CS and the client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">readiness_details</span><span class="o">.</span><span class="n">is_ready</span><span class="p">()</span>

<div class="viewcode-block" id="Client.upload_file"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.upload_file">[docs]</a>    <span class="k">def</span> <span class="nf">upload_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_file_path</span><span class="p">,</span> <span class="n">destination_folder</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Upload the specified source file to destination path on the client machine</span>

<span class="sd">            Args:</span>
<span class="sd">                source_file_path    (str)   --  path on the controller machine</span>

<span class="sd">                destination_folder  (str)   --  path on the client machine where the files</span>
<span class="sd">                                                    are to be copied</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to upload the file</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chunk_size</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="n">request_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">chunk_offset</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">source_file_path</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">file_size</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">source_file_path</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Authtoken&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_headers</span><span class="p">[</span><span class="s1">&#39;Authtoken&#39;</span><span class="p">],</span>
            <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
            <span class="s1">&#39;FileName&#39;</span><span class="p">:</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">file_name</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)),</span>
            <span class="s1">&#39;FileSize&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_size</span><span class="p">),</span>
            <span class="s1">&#39;ParentFolderPath&#39;</span><span class="p">:</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">destination_folder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
        <span class="p">}</span>

        <span class="n">file_stream</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source_file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">file_size</span> <span class="o">&lt;=</span> <span class="n">chunk_size</span><span class="p">:</span>
            <span class="n">upload_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;UPLOAD_FULL_FILE&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span><span class="n">upload_url</span><span class="p">,</span> <span class="n">file_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">headers</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">upload_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;UPLOAD_CHUNKED_FILE&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">file_size</span> <span class="o">&gt;</span> <span class="n">chunk_size</span><span class="p">:</span>
                <span class="n">file_size</span> <span class="o">=</span> <span class="n">file_size</span> <span class="o">-</span> <span class="n">chunk_size</span>
                <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileEOF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                    <span class="n">upload_url</span><span class="p">,</span> <span class="n">file_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">),</span> <span class="n">headers</span><span class="p">,</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span>
                <span class="p">)</span>

            <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileEOF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                <span class="n">upload_url</span><span class="p">,</span> <span class="n">file_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file_size</span><span class="p">),</span> <span class="n">headers</span><span class="p">,</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span>
            <span class="p">)</span></div>

<div class="viewcode-block" id="Client.upload_folder"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.upload_folder">[docs]</a>    <span class="k">def</span> <span class="nf">upload_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_dir</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Uploads the specified source dir to destination path on the client machine</span>

<span class="sd">            Args:</span>
<span class="sd">                source_dir          (str)   --  path on the controller machine</span>

<span class="sd">                destination_dir     (str)   --  path on the client machine where the files</span>
<span class="sd">                                                    are to be copied</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to upload the file</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_create_destination_path</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Returns the path obtained by joining the items in argument</span>

<span class="sd">                The final path to be generated is done based on the operating system path</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">delimiter</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">delimiter</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span>

            <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">argv</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                    <span class="n">base_path</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}{1}{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">base_path</span>

        <span class="n">source_list</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">source_dir</span><span class="p">)</span>

        <span class="n">destination_dir</span> <span class="o">=</span> <span class="n">_create_destination_path</span><span class="p">(</span><span class="n">destination_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">source_dir</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">source_list</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">upload_folder</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.start_service"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.start_service">[docs]</a>    <span class="k">def</span> <span class="nf">start_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to start the Commvault service(s).</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name    (str)   --  name of the service to be started</span>

<span class="sd">                    service name is required only for Windows Clients, as for UNIX clients, the</span>
<span class="sd">                    operation is executed on all services</span>

<span class="sd">                    default:    None</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the service was started successfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to start the service</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="s1">&#39;START&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.stop_service"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.stop_service">[docs]</a>    <span class="k">def</span> <span class="nf">stop_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to stop the Commvault service(s).</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name    (str)   --  name of the service to be stopped</span>

<span class="sd">                    service name is required only for Windows Clients, as for UNIX clients, the</span>
<span class="sd">                    operation is executed on all services</span>

<span class="sd">                    default:    None</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the service was stopped successfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to stop the service</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="s1">&#39;STOP&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.restart_service"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.restart_service">[docs]</a>    <span class="k">def</span> <span class="nf">restart_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to restart the Commvault service(s).</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name    (str)   --  name of the service to be restarted</span>

<span class="sd">                    service name is required only for Windows Clients, as for UNIX clients, the</span>
<span class="sd">                    operation is executed on all services</span>

<span class="sd">                    default:    None</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the service was restarted successfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to restart the service</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="s1">&#39;RESTART&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.restart_services"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.restart_services">[docs]</a>    <span class="k">def</span> <span class="nf">restart_services</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_for_service_restart</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to restart **ALL** services.</span>

<span class="sd">            Args:</span>
<span class="sd">                wait_for_service_restart    (bool)  --  boolean to specify whether to wait for the</span>
<span class="sd">                services to restart, or just execute the command and exit</span>

<span class="sd">                    if set to True, the method will wait till the services of the client are up</span>

<span class="sd">                    otherwise, the method will trigger a service restart, and exit</span>

<span class="sd">                    default: True</span>

<span class="sd">                timeout                     (int)   --  timeout **(in minutes)** to wait for the</span>
<span class="sd">                services to restart</span>

<span class="sd">                    if the services are not restarted by the timeout value, the method will exit</span>
<span class="sd">                    out with Exception</span>

<span class="sd">                    default: 10</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the services were restarted sucessfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to restart the services before the timeout value</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span> <span class="s1">&#39;RESTART_SVC_GRP&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">wait_for_service_restart</span><span class="p">:</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="o">*</span> <span class="mi">60</span>

            <span class="k">while</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&lt;</span> <span class="n">timeout</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_ready</span><span class="p">:</span>
                        <span class="k">return</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;107&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.push_network_config"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.push_network_config">[docs]</a>    <span class="k">def</span> <span class="nf">push_network_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Performs a push network configuration on the client</span>

<span class="sd">                Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if input data is invalid</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">xml_execute_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;App_PushFirewallConfigurationRequest&gt;</span>
<span class="s2">            &lt;entity clientName=&quot;</span><span class="si">{0}</span><span class="s2">&quot;/&gt;</span>
<span class="s2">        &lt;/App_PushFirewallConfigurationRequest&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">xml_execute_command</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">if</span> <span class="s1">&#39;entityResponse&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;entityResponse&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.add_user_associations"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.add_user_associations">[docs]</a>    <span class="k">def</span> <span class="nf">add_user_associations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">associations_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds the users to the owners list of this client</span>

<span class="sd">        Args:</span>
<span class="sd">            associations_list   (list)  --  list of owners to be associated with this client</span>
<span class="sd">                Example:</span>
<span class="sd">                    associations_list = [</span>
<span class="sd">                        {</span>
<span class="sd">                            &#39;user_name&#39;: user1,</span>
<span class="sd">                            &#39;role_name&#39;: role1</span>
<span class="sd">                        },</span>
<span class="sd">                        {</span>
<span class="sd">                            &#39;user_name&#39;: user2,</span>
<span class="sd">                            &#39;role_name&#39;: role2</span>
<span class="sd">                        }</span>
<span class="sd">                    ]</span>

<span class="sd">            Note: You can get available roles list using self.available_security_roles</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">associations_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_security_association</span><span class="o">.</span><span class="n">_add_security_association</span><span class="p">(</span><span class="n">associations_list</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.add_client_owner"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.add_client_owner">[docs]</a>    <span class="k">def</span> <span class="nf">add_client_owner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds the users to the owners list of this client</span>
<span class="sd">            Args:</span>
<span class="sd">                owner_list   (list)  --  list of owners to be associated with this client</span>

<span class="sd">             Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if input data is invalid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">owner_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="n">properties_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span>
        <span class="n">owners</span><span class="p">,</span> <span class="n">current_owners</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(),</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;owners&#39;</span> <span class="ow">in</span> <span class="n">properties_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clientProps&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;securityAssociations&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s1">&#39;ownerAssociations&#39;</span><span class="p">,</span> <span class="p">{}):</span>
            <span class="n">owners</span> <span class="o">=</span> <span class="n">properties_dict</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">][</span><span class="s1">&#39;securityAssociations&#39;</span><span class="p">][</span>
                <span class="s1">&#39;ownerAssociations&#39;</span><span class="p">][</span><span class="s1">&#39;owners&#39;</span><span class="p">]</span>
            <span class="n">current_owners</span> <span class="o">=</span> <span class="p">(</span><span class="n">o</span><span class="p">[</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">owners</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">owner</span> <span class="ow">in</span> <span class="n">owner_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">owner</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">all_users</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;User </span><span class="si">%s</span><span class="s2"> is not part of commcell&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">owner</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">owner</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">current_owners</span><span class="p">:</span>
                <span class="n">owners</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;userId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">all_users</span><span class="p">[</span><span class="n">owner</span><span class="o">.</span><span class="n">lower</span><span class="p">()],</span>
                               <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">owner</span><span class="o">.</span><span class="n">lower</span><span class="p">()})</span>
        <span class="k">if</span> <span class="s1">&#39;securityAssociations&#39;</span> <span class="ow">in</span> <span class="n">properties_dict</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="s1">&#39;ownerAssociations&#39;</span> <span class="ow">in</span> <span class="n">properties_dict</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">][</span><span class="s1">&#39;securityAssociations&#39;</span><span class="p">]:</span>
                <span class="n">properties_dict</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">][</span><span class="s1">&#39;securityAssociations&#39;</span><span class="p">][</span><span class="s1">&#39;ownerAssociations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;ownersOperationType&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;owners&quot;</span><span class="p">:</span> <span class="n">owners</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">properties_dict</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">][</span><span class="s1">&#39;securityAssociations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ownerAssociations&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;ownersOperationType&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;owners&quot;</span><span class="p">:</span> <span class="n">owners</span><span class="p">}}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">properties_dict</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;securityAssociations&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ownerAssociations&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ownersOperationType&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;owners&quot;</span><span class="p">:</span> <span class="n">owners</span><span class="p">}}}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">(</span><span class="n">properties_dict</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.filter_clients_return_displaynames"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.filter_clients_return_displaynames">[docs]</a>    <span class="k">def</span> <span class="nf">filter_clients_return_displaynames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_by</span><span class="o">=</span><span class="s2">&quot;OS&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets all the clients associated with the commcell with properties</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_by   (str)         --  filters clients based on criteria</span>

<span class="sd">                                            Accepted values:</span>

<span class="sd">                                            1. OS</span>

<span class="sd">            **kwargs    (str)         --  accepted optional arguments:</span>

<span class="sd">                                            os_type    (str)  - accepted values Windows, Unix, NAS</span>

<span class="sd">                                            url_params (dict) - dict of url parameters and values</span>

<span class="sd">                                                                Example:</span>

<span class="sd">                                                               {&quot;Hiddenclients&quot;:&quot;true&quot;}</span>

<span class="sd">        Returns:</span>

<span class="sd">            list    -   list of clients of given os_type</span>

<span class="sd">        Raises:</span>

<span class="sd">            SDKException:</span>

<span class="sd">                if response is empty</span>

<span class="sd">                if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">client_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">param_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="s2">&quot;url_params&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">url_param</span><span class="p">,</span> <span class="n">param_val</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;url_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">param_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">url_param</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">param_val</span><span class="si">}</span><span class="s2">&amp;&quot;</span>

        <span class="k">if</span> <span class="s2">&quot;os_type&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">os_filter</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;os_type&#39;</span><span class="p">]</span>

        <span class="c1"># To get the complete properties in the response</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_headers</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EdgeMode&quot;</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;FILTER_CLIENTS&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">param_string</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_headers</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">properties</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">filter_by</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;os&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">properties</span><span class="p">:</span>
                <span class="n">temp_name</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;idaList&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">]:</span>
                    <span class="n">ida_list</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;idaList&#39;</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">ida</span> <span class="ow">in</span> <span class="n">ida_list</span><span class="p">:</span>
                        <span class="n">os_type</span> <span class="o">=</span> <span class="n">ida</span><span class="p">[</span><span class="s1">&#39;idaEntity&#39;</span><span class="p">][</span><span class="s1">&#39;appName&#39;</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">os_filter</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">os_type</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                            <span class="n">client_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">client_list</span></div>

<div class="viewcode-block" id="Client.refresh"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.refresh">[docs]</a>    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Refreshes the properties of the Client.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_type_id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Client.set_encryption_property"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.set_encryption_property">[docs]</a>    <span class="k">def</span> <span class="nf">set_encryption_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">enc_setting</span><span class="o">=</span><span class="s2">&quot;USE_SPSETTINGS&quot;</span><span class="p">,</span>
                                <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">key_len</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;updates encryption properties on client</span>

<span class="sd">        Args:</span>

<span class="sd">            enc_setting (str)   --  sets encryption level on client</span>
<span class="sd">                                    (USE_SPSETTINGS / OFF/ ON_CLIENT)</span>
<span class="sd">            default : USE_SPSETTINGS</span>

<span class="sd">            key         (str)   --  cipher type</span>

<span class="sd">            key_len     (str)   --  cipher key length</span>

<span class="sd">            to enable encryption    : client_object.set_encryption_property(&quot;ON_CLIENT&quot;, &quot;TwoFish&quot;, &quot;256&quot;)</span>
<span class="sd">            to disable encryption   : client_object.set_encryption_property(&quot;OFF&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client_props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">enc_setting</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;encryptionSettings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">enc_setting</span>
            <span class="k">if</span> <span class="n">enc_setting</span> <span class="ow">is</span> <span class="s2">&quot;ON_CLIENT&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key_len</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)):</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
                <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;CipherType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
                <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;EncryptKeyLength&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key_len</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">client_props</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update client </span><span class="si">{0}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">Error: </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update </span><span class="si">{0}</span><span class="s2"> client&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                            <span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update the client&quot;</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.set_dedup_property"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.set_dedup_property">[docs]</a>    <span class="k">def</span> <span class="nf">set_dedup_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">prop_name</span><span class="p">,</span>
                           <span class="n">prop_value</span><span class="p">,</span>
                           <span class="n">client_side_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">max_cache_db</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Set DDB propeties</span>

<span class="sd">          :param prop_name:    property name</span>
<span class="sd">        :param prop_value:   property value</span>
<span class="sd">        :return:</span>

<span class="sd">        prop_name and prop_value:</span>
<span class="sd">            clientSideDeduplication values:</span>
<span class="sd">                USE_SPSETTINGS, to use storage policy settings</span>
<span class="sd">                ON_CLIENT, to enable client side deduplication</span>
<span class="sd">                OFF, to disable client side deduplication</span>

<span class="sd">                enableClientSideCache: True/False</span>
<span class="sd">                maxCacheDB: Valid values are:</span>
<span class="sd">                                1024</span>
<span class="sd">                                2048</span>
<span class="sd">                                4096</span>
<span class="sd">                                8192</span>
<span class="sd">                                16384</span>
<span class="sd">                                32768</span>
<span class="sd">                                65536</span>
<span class="sd">                                131072</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">prop_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prop_value</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">prop_name</span> <span class="o">==</span> <span class="s2">&quot;clientSideDeduplication&quot;</span> <span class="ow">and</span> <span class="n">prop_value</span> <span class="o">==</span> <span class="s2">&quot;ON_CLIENT&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">client_side_cache</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">and</span> <span class="n">max_cache_db</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dedupe_props</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;deDuplicationProperties&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;clientSideDeduplication&#39;</span><span class="p">:</span> <span class="n">prop_value</span><span class="p">,</span>
                        <span class="s1">&#39;enableClientSideDiskCache&#39;</span><span class="p">:</span> <span class="n">client_side_cache</span><span class="p">,</span>
                        <span class="s1">&#39;maxCacheDb&#39;</span><span class="p">:</span> <span class="n">max_cache_db</span>
                    <span class="p">}</span>
                <span class="p">}</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">dedupe_props</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;deDuplicationProperties&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;clientSideDeduplication&#39;</span><span class="p">:</span> <span class="n">prop_value</span><span class="p">,</span>
                        <span class="s1">&#39;enableClientSideDiskCache&#39;</span><span class="p">:</span> <span class="n">client_side_cache</span>
                    <span class="p">}</span>
                <span class="p">}</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">dedupe_props</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;deDuplicationProperties&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;clientSideDeduplication&#39;</span><span class="p">:</span> <span class="n">prop_value</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">dedupe_props</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update client </span><span class="si">{0}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">Error: </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update </span><span class="si">{0}</span><span class="s2"> client&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                            <span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update the client&quot;</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.add_additional_setting"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.add_additional_setting">[docs]</a>    <span class="k">def</span> <span class="nf">add_additional_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">key_name</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds registry key to the client property</span>

<span class="sd">            Args:</span>
<span class="sd">                category        (str)            --  Category of registry key</span>

<span class="sd">                key_name        (str)            --  Name of the registry key</span>

<span class="sd">                data_type       (str)            --  Data type of registry key</span>

<span class="sd">                    Accepted Values: BOOLEAN, INTEGER, STRING, MULTISTRING, ENCRYPTED</span>

<span class="sd">                value           (str)            --  Value of registry key</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to add</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response code is not as expected&quot;&quot;&quot;</span>

        <span class="n">properties_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;registryKeys&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                              <span class="s2">&quot;relativepath&quot;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                              <span class="s2">&quot;keyName&quot;</span><span class="p">:</span> <span class="n">key_name</span><span class="p">,</span>
                              <span class="s2">&quot;isInheritedFromClientGroup&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">data_type</span><span class="p">,</span>
                              <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
                              <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
        <span class="p">}</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">properties_dict</span><span class="p">)</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorCode&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to add registry key</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">error_message</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_additional_setting"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.delete_additional_setting">[docs]</a>    <span class="k">def</span> <span class="nf">delete_additional_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">key_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deletes registry key from the client property</span>

<span class="sd">        Args:</span>
<span class="sd">            category        (str)  --  Category of registry key</span>

<span class="sd">            key_name        (str)  --  Name of the registry key</span>

<span class="sd">        Raises:</span>
<span class="sd">            SDKException:</span>
<span class="sd">                if failed to delete</span>

<span class="sd">                if response is empty</span>

<span class="sd">                if response code is not as expected&quot;&quot;&quot;</span>

        <span class="n">properties_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;registryKeys&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                              <span class="s2">&quot;relativepath&quot;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                              <span class="s2">&quot;keyName&quot;</span><span class="p">:</span> <span class="n">key_name</span><span class="p">}]</span>
        <span class="p">}</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">properties_dict</span><span class="p">)</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorCode&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to delete registry key</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">error_message</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.release_license"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.release_license">[docs]</a>    <span class="k">def</span> <span class="nf">release_license</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">license_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Releases a license from a client</span>

<span class="sd">        Args:</span>

<span class="sd">            license_name    (str)  --  Name of the license to be released.</span>

<span class="sd">                Releases all the licenses in the client if no value is passed.</span>

<span class="sd">                self.consumed_licenses() method will provide all the available</span>

<span class="sd">                license details along with license_name.</span>

<span class="sd">                default: None</span>

<span class="sd">        Raises:</span>
<span class="sd">            SDKException:</span>
<span class="sd">                if failed to release license</span>

<span class="sd">                if response is empty</span>

<span class="sd">                if response code is not as expected</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">license_type_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">app_type_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">platform_type</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">license_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">consumed_licenses</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">license_name</span><span class="p">):</span>
                <span class="n">license_type_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">consumed_licenses</span><span class="p">[</span><span class="n">license_name</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;licenseType&#39;</span><span class="p">)</span>
                <span class="n">app_type_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">consumed_licenses</span><span class="p">[</span><span class="n">license_name</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;appType&#39;</span><span class="p">)</span>
                <span class="n">platform_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">consumed_licenses</span><span class="p">[</span><span class="n">license_name</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;platformType&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="s2">&quot;Provided license name is not configured in the client&quot;</span><span class="p">)</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;licensesInfo&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;platformType&quot;</span><span class="p">:</span> <span class="n">platform_type</span><span class="p">,</span>
                <span class="s2">&quot;license&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;licenseType&quot;</span><span class="p">:</span> <span class="n">license_type_id</span><span class="p">,</span>
                    <span class="s2">&quot;appType&quot;</span><span class="p">:</span> <span class="n">app_type_id</span><span class="p">,</span>
                    <span class="s2">&quot;licenseName&quot;</span><span class="p">:</span> <span class="n">license_name</span>
                <span class="p">}</span>
            <span class="p">}],</span>
            <span class="s2">&quot;clientEntity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;RELEASE_LICENSE&#39;</span><span class="p">],</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to release license.</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">error_message</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.retire"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.retire">[docs]</a>    <span class="k">def</span> <span class="nf">retire</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Uninstalls the CommVault Software on the client, releases the license and deletes the client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Job - job object of the uninstall job</span>

<span class="sd">        Raises:</span>

<span class="sd">            SDKException:</span>

<span class="sd">                if failed to retire client</span>

<span class="sd">                if response is empty</span>

<span class="sd">                if response code is not as expected</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;DELETE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;RETIRE&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorString&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s1">&#39;jobId&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="k">return</span> <span class="n">Job</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">,</span> <span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;jobId&#39;</span><span class="p">]))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to Retire Client. Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.reconfigure_client"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.reconfigure_client">[docs]</a>    <span class="k">def</span> <span class="nf">reconfigure_client</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reapplies license to the client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to reconfigure client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response code is not as expected</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s2">&quot;platformTypes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;RECONFIGURE_LICENSE&#39;</span><span class="p">],</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to re-apply license.</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">error_message</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.push_servicepack_and_hotfix"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.push_servicepack_and_hotfix">[docs]</a>    <span class="k">def</span> <span class="nf">push_servicepack_and_hotfix</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">reboot_client</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">run_db_maintenance</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;triggers installation of service pack and hotfixes</span>

<span class="sd">        Args:</span>
<span class="sd">            reboot_client (bool)            -- boolean to specify whether to reboot the client</span>
<span class="sd">            or not</span>

<span class="sd">                default: False</span>

<span class="sd">            run_db_maintenance (bool)      -- boolean to specify whether to run db</span>
<span class="sd">            maintenance not</span>

<span class="sd">                default: True</span>

<span class="sd">        Returns:</span>
<span class="sd">            object - instance of the Job class for this download job</span>

<span class="sd">        Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if Download job failed</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">                    if another download job is already running</span>

<span class="sd">        **NOTE:** push_serivcepack_and_hotfixes cannot be used for revision upgrades</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">install</span> <span class="o">=</span> <span class="n">Install</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">install</span><span class="o">.</span><span class="n">push_servicepack_and_hotfix</span><span class="p">(</span>
            <span class="n">client_computers</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">],</span>
            <span class="n">reboot_client</span><span class="o">=</span><span class="n">reboot_client</span><span class="p">,</span>
            <span class="n">run_db_maintenance</span><span class="o">=</span><span class="n">run_db_maintenance</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Client.get_dag_member_servers"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.get_dag_member_servers">[docs]</a>    <span class="k">def</span> <span class="nf">get_dag_member_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the member servers for an Exchange DAG client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                list - list consisting of the member servers</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">member_servers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_DAG_MEMBER_SERVERS&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errorCode&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to fetch details.</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;dagSetup&#39;</span><span class="p">][</span><span class="s1">&#39;dagMemberServers&#39;</span><span class="p">]:</span>
                    <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s1">&#39;serverName&#39;</span><span class="p">])</span>

                <span class="k">return</span> <span class="n">member_servers</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">consumed_licenses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns dictionary of all the license details which is consumed by the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict - consisting of all licenses consumed by the client</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;license_name_1&quot;: {</span>
<span class="sd">                            &quot;licenseType&quot;: license_type_id,</span>

<span class="sd">                            &quot;appType&quot;: app_type_id,</span>

<span class="sd">                            &quot;licenseName&quot;: license_name,</span>

<span class="sd">                            &quot;platformType&quot;: platform_type_id</span>

<span class="sd">                        },</span>

<span class="sd">                        &quot;license_name_2&quot;: {</span>

<span class="sd">                            &quot;licenseType&quot;: license_type_id,</span>

<span class="sd">                            &quot;appType&quot;: app_type_id,</span>

<span class="sd">                            &quot;licenseName&quot;: license_name,</span>

<span class="sd">                            &quot;platformType&quot;: platform_type_id</span>

<span class="sd">                        }</span>

<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to get the licenses</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response code is not as expected</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
                <span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;LIST_LICENSES&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to fetch license details.</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">error_message</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="n">licenses_dict</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">license_details</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;licensesInfo&#39;</span><span class="p">,</span> <span class="p">[]):</span>
                        <span class="k">if</span> <span class="n">license_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;license&#39;</span><span class="p">):</span>
                            <span class="n">licenses_dict</span><span class="p">[</span><span class="n">license_details</span><span class="p">[</span><span class="s1">&#39;license&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                                <span class="s1">&#39;licenseName&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">license_details</span><span class="p">[</span><span class="s1">&#39;license&#39;</span><span class="p">]</span>
                            <span class="n">licenses_dict</span><span class="p">[</span><span class="n">license_details</span><span class="p">[</span><span class="s1">&#39;license&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                                <span class="s1">&#39;licenseName&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)][</span><span class="s1">&#39;platformType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">license_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                                <span class="s1">&#39;platformType&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span> <span class="o">=</span> <span class="n">licenses_dict</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_license_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cvd_port</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns CVD port of the client&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvd_port</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_guid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns client GUID&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;client&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clientGUID&#39;</span><span class="p">,</span> <span class="p">{})</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns client Type&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pseudoClientInfo&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clientType&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="Client.set_job_start_time"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.set_job_start_time">[docs]</a>    <span class="k">def</span> <span class="nf">set_job_start_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_start_time_value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the jobstarttime for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to set the job start time</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="s1">&#39;Backup&#39;</span><span class="p">,</span> <span class="n">job_start_time</span><span class="o">=</span><span class="n">job_start_time_value</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to set the jobstarttime </span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.uninstall_software"><a class="viewcode-back" href="../../source/cvpysdk.html#cvpysdk.client.Client.uninstall_software">[docs]</a>    <span class="k">def</span> <span class="nf">uninstall_software</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_uninstall</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs readiness check on the client</span>

<span class="sd">            Args:</span>
<span class="sd">                force_uninstall (bool): Uninstalls packages forcibly. Defaults to True.</span>


<span class="sd">            Returns:</span>
<span class="sd">                The job object of the uninstall software job</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">uninstall</span> <span class="o">=</span> <span class="n">Uninstall</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">uninstall</span><span class="o">.</span><span class="n">uninstall_software</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span> <span class="n">force_uninstall</span><span class="o">=</span><span class="n">force_uninstall</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">job_start_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the job start time&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_start_time</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">readiness_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns instance of readiness&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readiness</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_readiness</span> <span class="o">=</span> <span class="n">_Readiness</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readiness</span></div>


<span class="k">class</span> <span class="nc">_Readiness</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Class for checking the connection details of a client &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commcell</span><span class="p">,</span> <span class="n">client_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__commcell</span> <span class="o">=</span> <span class="n">commcell</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__client_id</span> <span class="o">=</span> <span class="n">client_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reason</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_detail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__fetch_readiness_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">disabled_clients</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs readiness check on the client</span>

<span class="sd">            Args:</span>
<span class="sd">                network (bool): Performs Network Readiness Check. Defaults to True.</span>
<span class="sd">                resource (bool): Performs Resource Readiness Check. Defaults to False.</span>
<span class="sd">                disabled_clients (bool): Includes backup activity disabled clients. Defaults to False.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__commcell</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__commcell</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CHECK_READINESS&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__client_id</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">disabled_clients</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__check_reason</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__check_status</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__check_details</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__commcell</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">disabled_clients</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Performs readiness check on the client</span>

<span class="sd">        Returns: connection status</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__fetch_readiness_details</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">disabled_clients</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">==</span> <span class="s2">&quot;Ready.&quot;</span>

    <span class="k">def</span> <span class="nf">__check_reason</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_reason</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;reason&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">__check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;status&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">__check_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_detail</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">[</span><span class="s1">&#39;detail&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">get_failure_reason</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieve client readiness failure reason&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fetch_readiness_details</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reason</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieve client readiness status &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fetch_readiness_details</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>

    <span class="k">def</span> <span class="nf">get_detail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieve client readiness details &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fetch_readiness_details</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_detail</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>