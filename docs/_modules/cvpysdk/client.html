
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cvpysdk.client &#8212; Developer SDK - Python 11.12 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for cvpysdk.client</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1"># See LICENSE.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;File for performing client related operations on the Commcell.</span>

<span class="sd">Clients and Client are 2 classes defined in this file.</span>

<span class="sd">Clients:    Class for representing all the clients associated with the commcell</span>

<span class="sd">Client:     Class for a single client of the commcell</span>


<span class="sd">Clients</span>
<span class="sd">=======</span>

<span class="sd">    __init__(commcell_object)             --  initialize object of Clients class associated with</span>
<span class="sd">    the commcell</span>

<span class="sd">    __str__()                             --  returns all the clients associated with the commcell</span>

<span class="sd">    __repr__()                            --  returns the string to represent the instance of the</span>
<span class="sd">    Clients class</span>

<span class="sd">    __len__()                             --  returns the number of clients associated with the</span>
<span class="sd">    Commcell</span>

<span class="sd">    __getitem__()                         --  returns the name of the client at the given index</span>
<span class="sd">    or the details for the given client name</span>

<span class="sd">    _get_clients()                        --  gets all the clients associated with the commcell</span>

<span class="sd">    _get_hidden_clients()                 --  gets all the hidden clients associated with the</span>
<span class="sd">    commcell</span>

<span class="sd">    _get_virtualization_clients()         --  gets all the virtualization clients associated with</span>
<span class="sd">    the commcell</span>

<span class="sd">    _get_client_dict()                    --  returns the client dict for client to be added to</span>
<span class="sd">    member server</span>

<span class="sd">    _member_servers()                     --  returns member clients to be associated with the</span>
<span class="sd">    Virtual Client</span>

<span class="sd">    _get_client_from_hostname()           --  returns the client name if associated with specified</span>
<span class="sd">    hostname if exists</span>

<span class="sd">    _get_hidden_client_from_hostname()    --  returns the client name if associated with specified</span>
<span class="sd">    hostname if exists</span>

<span class="sd">    has_client(client_name)               --  checks if a client exists with the given name or not</span>

<span class="sd">    has_hidden_client(client_name)        --  checks if a hidden client exists with the given name</span>

<span class="sd">    add_vmware_client()                   --  adds a new VMWare Virtualization Client to the</span>
<span class="sd">    Commcell</span>

<span class="sd">    add_exchange_client()                 --  adds a new Exchange Virtual Client to the Commcell</span>

<span class="sd">    get(client_name)                      --  returns the Client class object of the input client</span>
<span class="sd">    name</span>

<span class="sd">    delete(client_name)                   --  deletes the client specified by the client name from</span>
<span class="sd">    the commcell</span>

<span class="sd">    refresh()                             --  refresh the clients associated with the commcell</span>

<span class="sd">Clients Attributes</span>
<span class="sd">------------------</span>

<span class="sd">    **all_clients**             --  returns the dictioanry consisting of all the clients that are</span>
<span class="sd">    associated with the commcell and their information such as id and hostname</span>

<span class="sd">    **hidden_clients**          --  returns the dictioanry consisting of only the hidden clients</span>
<span class="sd">    that are associated with the commcell and their information such as id and hostname</span>

<span class="sd">    **virtualization_clients**  --  returns the dictioanry consisting of only the virtualization</span>
<span class="sd">    clients that are associated with the commcell and their information such as id and hostname</span>


<span class="sd">Client</span>
<span class="sd">======</span>

<span class="sd">    __init__()                   --  initialize object of Class with the specified client name</span>
<span class="sd">    and id, and associated to the commcell</span>

<span class="sd">    __repr__()                   --  return the client name and id, the instance is associated with</span>

<span class="sd">    _get_client_id()             --  method to get the client id, if not specified in __init__</span>

<span class="sd">    _get_client_properties()     --  get the properties of this client</span>

<span class="sd">    _get_instance_of_client()    --  get the instance associated with the client</span>

<span class="sd">    _get_log_directory()         --  get the log directory path on the client</span>

<span class="sd">    _service_operations()        --  perform services related operations on a client</span>

<span class="sd">                START / STOP / RESTART</span>

<span class="sd">    _make_request()              --  makes the upload request to the server</span>

<span class="sd">    enable_backup()              --  enables the backup for the client</span>

<span class="sd">    enable_backup_at_time()      --  enables the backup for the client at the input time specified</span>

<span class="sd">    disable_backup()             --  disables the backup for the client</span>

<span class="sd">    enable_restore()             --  enables the restore for the client</span>

<span class="sd">    enable_restore_at_time()     --  enables the restore for the client at the input time specified</span>

<span class="sd">    disable_restore()            --  disables the restore for the client</span>

<span class="sd">    enable_data_aging()          --  enables the data aging for the client</span>

<span class="sd">    enable_data_aging_at_time()  --  enables the data aging for the client at input time specified</span>

<span class="sd">    disable_data_aging()         --  disables the data aging for the client</span>

<span class="sd">    execute_script()             --  executes given script on the client</span>

<span class="sd">    execute_command()            --  executes a command on the client</span>

<span class="sd">    enable_intelli_snap()        --  enables intelli snap for the client</span>

<span class="sd">    disable_intelli_snap()       --  disables intelli snap for the client</span>

<span class="sd">    upload_file()                --  uploads the specified file on controller to the client machine</span>

<span class="sd">    upload_folder()              --  uploads the specified folder on controller to client machine</span>

<span class="sd">    start_service()              --  starts the service with the given name on the client</span>

<span class="sd">    stop_service()               --  stops the service with the given name on the client</span>

<span class="sd">    restart_service()            --  restarts the service with the given name on the client</span>

<span class="sd">    restart_services()           --  executes the command on the client to restart the services</span>

<span class="sd">    network()                    --  returns Network class object</span>

<span class="sd">    push_network_config()        --  performs a push network configuration on the client</span>

<span class="sd">    add_user_association()       --  adds the user associations on this client</span>

<span class="sd">    refresh()                    --  refresh the properties of the client</span>

<span class="sd">Client Attributes</span>
<span class="sd">-----------------</span>

<span class="sd">    **available_security_roles**    --  returns the security roles available for the selected</span>
<span class="sd">    client</span>

<span class="sd">    **client_id**                   --  returns the id of the client</span>

<span class="sd">    **client_name**                 --  returns the name of the client</span>

<span class="sd">    **client_hostname**             --  returns the host name of the client</span>

<span class="sd">    **os_info**                     --  returns string consisting of OS information of the client</span>

<span class="sd">    **is_data_recovery_enabled**    --  boolean specifying whether data recovery is enabled for the</span>
<span class="sd">    client or not</span>

<span class="sd">    **is_data_management_enabled**  --  boolean specifying whether data management is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_ci_enabled**               --  boolean specifying whether content indexing is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_backup_enabled**           --  boolean specifying whether backup activity is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_restore_enabled**          --  boolean specifying whether restore activity is enabled for</span>
<span class="sd">    the client or not</span>

<span class="sd">    **is_data_aging_enabled**       --  boolean specifying whether data aging is enabled for the</span>
<span class="sd">    client or not</span>

<span class="sd">    **is_intelli_snap_enabled**     --  boolean specifying whether intelli snap is enabled for the</span>
<span class="sd">    client or not</span>

<span class="sd">    **install_directory**           --  returns the path where the client is installed at</span>

<span class="sd">    **version**                     --  returns the version of the product installed on the client</span>

<span class="sd">    **service_pack**                --  returns the service pack installed on the client</span>

<span class="sd">    **job_results_directory**       --  returns the path of the job results directory on the client</span>

<span class="sd">    **instance**                    --  returns the Instance of the client</span>

<span class="sd">    **log_directory**               --  returns the path of the log directory on the client</span>

<span class="sd">    **agents**                      --  returns the instance of the Agents class representing</span>
<span class="sd">    the list of agents installed on the Client</span>

<span class="sd">    **schedules**                   --  returns the instance of the Schedules class representing</span>
<span class="sd">    the list of schedules configured for the Client</span>

<span class="sd">    **users**                       --  returns the instance of the Users class representing the</span>
<span class="sd">    list of users with access to the Client</span>

<span class="sd">    **network**                     --  returns object of the Network class corresponding to the</span>
<span class="sd">    selected client</span>

<span class="sd">    **is_ready**                    --  returns boolean value specifying whether services on the</span>
<span class="sd">    client are running or not, and whether the CommServ is able to communicate with the client</span>


<span class="sd">    set_encryption_prop ()       --    Set encryption properties on a client</span>

<span class="sd">    set_dedup_prop()             --     Set DDB properties</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">base64</span> <span class="k">import</span> <span class="n">b64encode</span>
<span class="kn">from</span> <span class="nn">past.builtins</span> <span class="k">import</span> <span class="n">basestring</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="kn">from</span> <span class="nn">.agent</span> <span class="k">import</span> <span class="n">Agents</span>
<span class="kn">from</span> <span class="nn">.schedules</span> <span class="k">import</span> <span class="n">Schedules</span>
<span class="kn">from</span> <span class="nn">.exception</span> <span class="k">import</span> <span class="n">SDKException</span>

<span class="kn">from</span> <span class="nn">.network</span> <span class="k">import</span> <span class="n">Network</span>

<span class="kn">from</span> <span class="nn">.security.user</span> <span class="k">import</span> <span class="n">Users</span>


<div class="viewcode-block" id="Clients"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients">[docs]</a><span class="k">class</span> <span class="nc">Clients</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for representing all the clients associated with the commcell.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commcell_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize object of the Clients class.</span>

<span class="sd">            Args:</span>
<span class="sd">                commcell_object (object)  --  instance of the Commcell class</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Clients class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span> <span class="o">=</span> <span class="n">commcell_object</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_cvpysdk_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_services</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_update_response_</span>

        <span class="c1"># TODO: check with API team for additional property to remove multiple API calls</span>
        <span class="c1"># and use a single API call to get all types of clients, and to be able to distinguish</span>
        <span class="c1"># them</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_ALL_CLIENTS&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ALL_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_ALL_CLIENTS_PLUS_HIDDEN&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_VIRTUALIZATION_CLIENTS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;GET_VIRTUAL_CLIENTS&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_EXCHANGE_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;ADD_EXCHANGE&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_clients</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden_clients</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_virtualization_clients</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Representation string consisting of all clients of the commcell.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str - string of all the clients associated with the commcell</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">representation_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:^5}</span><span class="se">\t</span><span class="si">{:^20}</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;S. No.&#39;</span><span class="p">,</span> <span class="s1">&#39;Client&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">):</span>
            <span class="n">sub_str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:^5}</span><span class="se">\t</span><span class="si">{:20}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>
            <span class="n">representation_string</span> <span class="o">+=</span> <span class="n">sub_str</span>

        <span class="k">return</span> <span class="n">representation_string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Representation string for the instance of the Clients class.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;Clients class instance for Commcell: &#39;</span><span class="si">{0}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">commserv_name</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the number of the clients associated to the Commcell.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the client for the given client ID or</span>
<span class="sd">            the details of the client for given client Name.</span>

<span class="sd">            Args:</span>
<span class="sd">                value   (str / int)     --  Name or ID of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   name of the client, if the client id was given</span>

<span class="sd">                dict    -   dict of details of the client, if client name was given</span>

<span class="sd">            Raises:</span>
<span class="sd">                IndexError:</span>
<span class="sd">                    no client exists with the given Name / Id</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="o">.</span><span class="n">items</span><span class="p">()))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;No client exists with the given Name / Id&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets all the clients associated with the commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   consists of all clients in the commcell</span>

<span class="sd">                    {</span>
<span class="sd">                        &quot;client1_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client1_id,</span>

<span class="sd">                            &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>

<span class="sd">                        &quot;client2_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client2_id,</span>

<span class="sd">                            &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                        }</span>
<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">clients_dict</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">]:</span>
                    <span class="n">temp_name</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_hostname</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">clients_dict</span><span class="p">[</span><span class="n">temp_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">temp_id</span><span class="p">,</span>
                        <span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="n">temp_hostname</span>
                    <span class="p">}</span>

                <span class="k">return</span> <span class="n">clients_dict</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_hidden_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets all the clients associated with the commcell, including all VM&#39;s and hidden clients</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   consists of all clients (including hidden clients) in the commcell</span>

<span class="sd">                    {</span>
<span class="sd">                        &quot;client1_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client1_id,</span>

<span class="sd">                            &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>

<span class="sd">                        &quot;client2_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client2_id,</span>

<span class="sd">                            &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                        }</span>
<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ALL_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">all_clients_dict</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">hidden_clients_dict</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">]:</span>
                    <span class="n">temp_name</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">temp_hostname</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">all_clients_dict</span><span class="p">[</span><span class="n">temp_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">temp_id</span><span class="p">,</span>
                        <span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="n">temp_hostname</span>
                    <span class="p">}</span>

                <span class="c1"># hidden clients = all clients - true clients</span>
                <span class="n">hidden_clients_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">client</span><span class="p">:</span> <span class="n">all_clients_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                        <span class="n">client</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">all_clients_dict</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client</span><span class="p">]</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_clients_dict</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="n">hidden_clients_dict</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_virtualization_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;REST API call to get all virtualization clients in the commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   consists of all virtualization clients in the commcell</span>

<span class="sd">                    {</span>
<span class="sd">                        &quot;client1_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client1_id,</span>

<span class="sd">                            &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>

<span class="sd">                        &quot;client2_name&quot;: {</span>

<span class="sd">                            &quot;id&quot;: client2_id,</span>

<span class="sd">                            &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                        }</span>
<span class="sd">                    }</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_VIRTUALIZATION_CLIENTS</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;VSPseudoClientsList&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">pseudo_clients</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;VSPseudoClientsList&#39;</span><span class="p">]</span>
                <span class="n">virtualization_clients</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">pseudo_client</span> <span class="ow">in</span> <span class="n">pseudo_clients</span><span class="p">:</span>
                    <span class="n">virtualization_clients</span><span class="p">[</span><span class="n">pseudo_client</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;clientId&#39;</span><span class="p">:</span> <span class="n">pseudo_client</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;hostName&#39;</span><span class="p">:</span> <span class="n">pseudo_client</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span>
                    <span class="p">}</span>

                <span class="k">return</span> <span class="n">virtualization_clients</span>

            <span class="k">return</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_client_dict</span><span class="p">(</span><span class="n">client_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the client dict for the client object to be appended to member server.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_object   (object)    --  instance of the Client class</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict    -   dictionary for a single client to be associated with the Virtual Client</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_object</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
                <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">client_object</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">3</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">client_dict</span>

    <span class="k">def</span> <span class="nf">_member_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clients_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the member clients to be associated with the Virtual Client.</span>

<span class="sd">            Args:</span>
<span class="sd">                clients_list (list)    --  list of the clients to associated to the virtual client</span>

<span class="sd">            Returns:</span>
<span class="sd">                list - list consisting of all member servers to be associated to the Virtual Client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of clients list argument is not list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">clients_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">member_servers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
                    <span class="n">temp_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">temp_client</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;virtual server&#39;</span><span class="p">):</span>
                        <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">temp_client</span><span class="p">)</span>
                        <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

                    <span class="k">del</span> <span class="n">temp_client</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">Client</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;virtual server&#39;</span><span class="p">):</span>
                    <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
                    <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">member_servers</span>

    <span class="k">def</span> <span class="nf">_get_client_from_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a client is associated with the given hostname.</span>

<span class="sd">            Args:</span>
<span class="sd">                hostname    (str)   --  host name of the client on this commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   name of the client associated with this hostname</span>

<span class="sd">                None    -   if no client has the same hostname as the given input</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hostname</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client</span><span class="p">][</span><span class="s1">&#39;hostname&#39;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">client</span>

    <span class="k">def</span> <span class="nf">_get_hidden_client_from_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if hidden client associated given hostname exists and returns the hidden client</span>
<span class="sd">            name</span>

<span class="sd">            Args:</span>
<span class="sd">                hostname    (str)   --  host name of the client on this commcell</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   name of the client associated with this hostname</span>

<span class="sd">                None    -   if no client has the same hostname as the given input</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">hidden_client</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hostname</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">[</span><span class="n">hidden_client</span><span class="p">][</span><span class="s1">&#39;hostname&#39;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">hidden_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">all_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dictionary consisting of all the clients and their info.</span>

<span class="sd">            dict - consists of all clients in the commcell</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;client1_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client1_id,</span>
<span class="sd">                                &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>
<span class="sd">                         &quot;client2_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client2_id,</span>
<span class="sd">                                &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                         },</span>
<span class="sd">                    }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clients</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hidden_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dictionary consisting of the hidden clients and their info.</span>

<span class="sd">            dict - consists of all clients in the commcell</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;client1_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client1_id,</span>
<span class="sd">                                &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>
<span class="sd">                         &quot;client2_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client2_id,</span>
<span class="sd">                                &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                         },</span>
<span class="sd">                    }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hidden_clients</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">virtualization_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the dictionary consisting of the virtualization clients and their info.</span>

<span class="sd">            dict - consists of all clients in the commcell</span>
<span class="sd">                    {</span>
<span class="sd">                         &quot;client1_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client1_id,</span>
<span class="sd">                                &quot;hostname&quot;: client1_hostname</span>
<span class="sd">                        },</span>
<span class="sd">                         &quot;client2_name&quot;: {</span>
<span class="sd">                                &quot;id&quot;: client2_id,</span>
<span class="sd">                                &quot;hostname&quot;: client2_hostname</span>
<span class="sd">                         },</span>
<span class="sd">                    }</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_virtualization_clients</span>

<div class="viewcode-block" id="Clients.has_client"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.has_client">[docs]</a>    <span class="k">def</span> <span class="nf">has_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a client exists in the commcell with the input client name.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name (str)  --  name of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool - boolean output whether the client exists in the commcell or not</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span> <span class="ow">and</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span></div>

<div class="viewcode-block" id="Clients.has_hidden_client"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.has_hidden_client">[docs]</a>    <span class="k">def</span> <span class="nf">has_hidden_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a client exists in the commcell with the input client name as a hidden client.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name (str)  --  name of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                bool - boolean output whether the client exists in the commcell or not as a hidden</span>
<span class="sd">                        client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span> <span class="ow">and</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span></div>

<div class="viewcode-block" id="Clients.add_vmware_client"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.add_vmware_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_vmware_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">vcenter_hostname</span><span class="p">,</span>
            <span class="n">vcenter_username</span><span class="p">,</span>
            <span class="n">vcenter_password</span><span class="p">,</span>
            <span class="n">clients</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new VMWare Virtualization Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name         (str)   --  name of the new VMWare Virtual Client</span>
<span class="sd">                vcenter_hostname    (str)   --  hostname of the vcenter to connect to</span>
<span class="sd">                vcenter_username    (str)   --  login username for the vcenter</span>
<span class="sd">                vcenter_password    (str)   --  plain-text password for the vcenter</span>
<span class="sd">                clients             (list)  --  list cotaining client names / client objects,</span>
<span class="sd">                                                    to associate with the Virtual Client</span>

<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="n">vcenter_password</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">vcenter_password</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">member_servers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_member_servers</span><span class="p">(</span><span class="n">clients</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                <span class="s2">&quot;virtualServerClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;virtualServerInstanceInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;vsInstanceType&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;associatedClients&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="n">member_servers</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;vmwareVendor&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;vcenterHostName&quot;</span><span class="p">:</span> <span class="n">vcenter_hostname</span><span class="p">,</span>
                            <span class="s2">&quot;virtualCenter&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">vcenter_username</span><span class="p">,</span>
                                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">vcenter_password</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.add_exchange_client"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.add_exchange_client">[docs]</a>    <span class="k">def</span> <span class="nf">add_exchange_client</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">client_name</span><span class="p">,</span>
            <span class="n">index_server</span><span class="p">,</span>
            <span class="n">clients_list</span><span class="p">,</span>
            <span class="n">storage_policy</span><span class="p">,</span>
            <span class="n">recall_service_url</span><span class="p">,</span>
            <span class="n">job_result_dir</span><span class="p">,</span>
            <span class="n">exchange_servers</span><span class="p">,</span>
            <span class="n">service_accounts</span><span class="p">,</span>
            <span class="n">azure_app_key_secret</span><span class="p">,</span>
            <span class="n">azure_tenant_name</span><span class="p">,</span>
            <span class="n">azure_app_key_id</span><span class="p">,</span>
            <span class="n">environment_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new Exchange Mailbox Client to the Commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name             (str)   --  name of the new Exchange Mailbox Client</span>

<span class="sd">                index_server            (str)   --  index server for virtual cleint</span>

<span class="sd">                clients_list            (list)  --  list cotaining client names / client objects,</span>
<span class="sd">                to associate with the Virtual Client</span>

<span class="sd">                storage_policy          (str)   --  storage policy to associate with the client</span>

<span class="sd">                recall_service_url      (str)   --  recall service for client</span>

<span class="sd">                job_result_dir          (str)   --  job reult directory path</span>

<span class="sd">                exchange_servers        (list)  --  list of exchange servers</span>

<span class="sd">                azure_app_key_secret    (str)   --  app secret for the Exchange online</span>

<span class="sd">                azure_tenant_name       (str)   --  tenant for exchange online</span>

<span class="sd">                azure_app_key_id        (str)   --  app key for exchange online</span>

<span class="sd">            Returns:</span>
<span class="sd">                object  -   instance of the Client class for this new client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if client with given name already exists</span>

<span class="sd">                    if failed to add the client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Client &quot;</span><span class="si">{0}</span><span class="s1">&quot; already exists.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exchange_servers</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">index_server_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">storage_policy_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">index_server</span><span class="p">):</span>
            <span class="n">index_server_cloud</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index_server</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">index_server_cloud</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">has_agent</span><span class="p">(</span><span class="s1">&#39;big data apps&#39;</span><span class="p">):</span>
                <span class="n">index_server_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;mediaAgentId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">index_server_cloud</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                    <span class="s2">&quot;_type_&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
                    <span class="s2">&quot;mediaAgentName&quot;</span><span class="p">:</span> <span class="n">index_server_cloud</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">storage_policies</span><span class="o">.</span><span class="n">has_policy</span><span class="p">(</span><span class="n">storage_policy</span><span class="p">):</span>
            <span class="n">storage_policy_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">storage_policies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">storage_policy</span><span class="p">)</span>

            <span class="n">storage_policy_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;storagePolicyName&quot;</span><span class="p">:</span> <span class="n">storage_policy_object</span><span class="o">.</span><span class="n">storage_policy_name</span><span class="p">,</span>
                <span class="s2">&quot;storagePolicyId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">storage_policy_object</span><span class="o">.</span><span class="n">storage_policy_id</span><span class="p">)</span>
            <span class="p">}</span>

        <span class="n">account_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">member_servers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
                    <span class="n">temp_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
                    <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">temp_client</span><span class="p">)</span>
                    <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">temp_client</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">Client</span><span class="p">):</span>
                <span class="n">client_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_dict</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
                <span class="n">member_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client_dict</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">service_accounts</span><span class="p">:</span>
            <span class="n">account_dict</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">account_dict</span><span class="p">[</span><span class="s1">&#39;serviceType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;ServiceType&#39;</span><span class="p">]</span>

            <span class="n">user_account_dict</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">if</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;ServiceType&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">account_dict</span><span class="p">[</span><span class="s1">&#39;exchangeAdminSmtpAddress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;Username&#39;</span><span class="p">]</span>
                <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="p">[</span><span class="s1">&#39;Username&#39;</span><span class="p">]</span>
            <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;Password&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">user_account_dict</span><span class="p">[</span><span class="s1">&#39;confirmPassword&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;Password&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">account_dict</span><span class="p">[</span><span class="s1">&#39;userAccount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">user_account_dict</span>

            <span class="n">account_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">account_dict</span><span class="p">)</span>

        <span class="n">azure_app_key_secret</span> <span class="o">=</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">azure_app_key_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientInfo&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientType&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
                <span class="s2">&quot;exchangeOnePassClientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;recallService&quot;</span><span class="p">:</span> <span class="n">recall_service_url</span><span class="p">,</span>
                    <span class="s2">&quot;onePassProp&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;environmentType&quot;</span><span class="p">:</span> <span class="n">environment_type</span><span class="p">,</span>
                        <span class="s2">&quot;azureDetails&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;azureAppKeySecret&quot;</span><span class="p">:</span> <span class="n">azure_app_key_secret</span><span class="p">,</span>
                            <span class="s2">&quot;azureTenantName&quot;</span><span class="p">:</span> <span class="n">azure_tenant_name</span><span class="p">,</span>
                            <span class="s2">&quot;azureAppKeyID&quot;</span><span class="p">:</span> <span class="n">azure_app_key_id</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;servers&quot;</span><span class="p">:</span> <span class="n">exchange_servers</span><span class="p">,</span>
                        <span class="s2">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;adminAccounts&quot;</span><span class="p">:</span> <span class="n">account_list</span>
                        <span class="p">}</span>

                    <span class="p">},</span>
                    <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;memberServers&quot;</span><span class="p">:</span> <span class="n">member_servers</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;indexServer&quot;</span><span class="p">:</span> <span class="n">index_server_dict</span><span class="p">,</span>
                    <span class="s2">&quot;dataArchiveGroup&quot;</span><span class="p">:</span> <span class="n">storage_policy_dict</span><span class="p">,</span>
                    <span class="s2">&quot;jobResulsDir&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">job_result_dir</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">client_name</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ADD_EXCHANGE_CLIENT</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># initialize the clients again</span>
                        <span class="c1"># so the client object has all the clients</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to create client</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Clients.get"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a client object if client name or host name matches specified name</span>
<span class="sd">            We check if specified name matches any of the existing client names else</span>
<span class="sd">            compare specified name with host names of existing clients</span>

<span class="sd">            Args:</span>
<span class="sd">                name (str)  --  name of the client</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Client class for the given client name</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>

<span class="sd">                    if no client exists with the given name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">client_name</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">client_id</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="n">client_name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_from_hostname</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">client_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_from_hostname</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_hidden_client</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="n">client_name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_hidden_client_from_hostname</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">client_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_hidden_client_from_hostname</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">client_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="n">client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hidden_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">Client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">client_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                    <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;No client exists with name: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="Clients.delete"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deletes the client from the commcell.</span>

<span class="sd">            Args:</span>
<span class="sd">                client_name (str)  --  name of the client to remove from the commcell</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if type of the client name argument is not string</span>

<span class="sd">                    if failed to delete client</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">                    if no client exists with the given name</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">client_name</span> <span class="o">=</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
                <span class="n">client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_clients</span><span class="p">[</span><span class="n">client_name</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
                <span class="n">client_delete_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CLIENT&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
                <span class="n">client_delete_service</span> <span class="o">+=</span> <span class="s2">&quot;?forceDelete=1&quot;</span>

                <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;DELETE&#39;</span><span class="p">,</span> <span class="n">client_delete_service</span><span class="p">)</span>

                <span class="n">error_code</span> <span class="o">=</span> <span class="n">warning_code</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="k">if</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="c1"># initialize the clients again</span>
                                <span class="c1"># so the client object has all the clients</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                            <span class="k">if</span> <span class="s1">&#39;warningCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                                <span class="n">warning_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;warningCode&#39;</span><span class="p">]</span>

                            <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to delete client&#39;</span>

                            <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">error_message</span><span class="p">:</span>
                                    <span class="n">o_str</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                            <span class="k">elif</span> <span class="n">warning_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">warning_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;warningMessage&#39;</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">warning_message</span><span class="p">:</span>
                                    <span class="n">o_str</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Warning: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">warning_message</span><span class="p">)</span>

                            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                    <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;No client exists with name: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">client_name</span><span class="p">)</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="Clients.refresh"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Clients.refresh">[docs]</a>    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Refresh the clients associated with the Commcell.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_clients</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_hidden_clients</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_virtualization_clients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_virtualization_clients</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Client"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client">[docs]</a><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for performing client operations for a specific client.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commcell_object</span><span class="p">,</span> <span class="n">client_name</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise the Client class instance.</span>

<span class="sd">            Args:</span>
<span class="sd">                commcell_object (object)     --  instance of the Commcell class</span>

<span class="sd">                client_name     (str)        --  name of the client</span>

<span class="sd">                client_id       (str)        --  id of the client</span>
<span class="sd">                    default: None</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Client class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span> <span class="o">=</span> <span class="n">commcell_object</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_cvpysdk_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_services</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span> <span class="o">=</span> <span class="n">commcell_object</span><span class="o">.</span><span class="n">_update_response_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client_name</span> <span class="o">=</span> <span class="n">client_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">client_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_id</span><span class="p">()</span>

        <span class="n">_client_type</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Client&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;Hidden Client&#39;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">has_client</span><span class="p">(</span><span class="n">client_name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_type_id</span> <span class="o">=</span> <span class="n">_client_type</span><span class="p">[</span><span class="s1">&#39;Client&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_type_id</span> <span class="o">=</span> <span class="n">_client_type</span><span class="p">[</span><span class="s1">&#39;Hidden Client&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CLIENT&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_os_info</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_install_directory</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_service_pack</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_backup_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_ci_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_aging_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_management_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_recovery_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_intelli_snap_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_restore_enabled</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_hostname</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_job_results_directory</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the instance of this class.&quot;&quot;&quot;</span>
        <span class="n">representation_string</span> <span class="o">=</span> <span class="s1">&#39;Client class instance for Client: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span>
        <span class="k">return</span> <span class="n">representation_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the client id associated with this client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str - id associated with this client</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span><span class="o">.</span><span class="n">client_id</span>

    <span class="k">def</span> <span class="nf">_get_client_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the client properties of this client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict - dictionary consisting of the properties of this client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;clientProperties&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">os_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;osInfo&#39;</span><span class="p">]</span>
                <span class="n">processor_type</span> <span class="o">=</span> <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;OsDisplayInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ProcessorType&#39;</span><span class="p">]</span>
                <span class="n">os_name</span> <span class="o">=</span> <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;OsDisplayInfo&#39;</span><span class="p">][</span><span class="s1">&#39;OSName&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_os_info</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> </span><span class="si">{1}</span><span class="s1"> </span><span class="si">{2}</span><span class="s1">  --  </span><span class="si">{3}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">processor_type</span><span class="p">,</span>
                    <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">],</span>
                    <span class="n">os_info</span><span class="p">[</span><span class="s1">&#39;SubType&#39;</span><span class="p">],</span>
                    <span class="n">os_name</span>
                <span class="p">)</span>

                <span class="n">client_props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_recovery_enabled</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span>
                    <span class="s1">&#39;activityControl&#39;</span><span class="p">][</span><span class="s1">&#39;EnableDataRecovery&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_management_enabled</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span>
                    <span class="s1">&#39;activityControl&#39;</span><span class="p">][</span><span class="s1">&#39;EnableDataManagement&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_ci_enabled</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;activityControl&#39;</span><span class="p">][</span><span class="s1">&#39;EnableOnlineContentIndex&#39;</span><span class="p">]</span>

                <span class="n">activities</span> <span class="o">=</span> <span class="n">client_props</span><span class="p">[</span><span class="s2">&quot;clientActivityControl&quot;</span><span class="p">][</span><span class="s2">&quot;activityControlOptions&quot;</span><span class="p">]</span>

                <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">activities</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_backup_enabled</span> <span class="o">=</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;enableActivityType&quot;</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_restore_enabled</span> <span class="o">=</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;enableActivityType&quot;</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">16</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_aging_enabled</span> <span class="o">=</span> <span class="n">activity</span><span class="p">[</span><span class="s2">&quot;enableActivityType&quot;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_client_hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;clientEntity&#39;</span><span class="p">][</span><span class="s1">&#39;hostName&#39;</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_is_intelli_snap_enabled</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;EnableSnapBackups&#39;</span><span class="p">])</span>

                <span class="k">if</span> <span class="s1">&#39;installDirectory&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_install_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;installDirectory&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;jobResulsDir&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_job_results_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;jobResulsDir&#39;</span><span class="p">][</span><span class="s1">&#39;path&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;GalaxyRelease&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span>
                        <span class="s1">&#39;versionInfo&#39;</span><span class="p">][</span><span class="s1">&#39;GalaxyRelease&#39;</span><span class="p">][</span><span class="s1">&#39;ReleaseString&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;version&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">]:</span>
                    <span class="n">service_pack</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
                        <span class="sa">r</span><span class="s1">&#39;ServicePack:([\d]*)&#39;</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;client&#39;</span><span class="p">][</span><span class="s1">&#39;versionInfo&#39;</span><span class="p">][</span><span class="s1">&#39;version&#39;</span><span class="p">]</span>
                    <span class="p">)</span>

                    <span class="k">if</span> <span class="n">service_pack</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_service_pack</span> <span class="o">=</span> <span class="n">service_pack</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_request_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">enable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enable_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the JSON request to pass to the API as per the options selected by the user.</span>

<span class="sd">            Args:</span>
<span class="sd">                option (str)  --  string option for which to run the API for</span>
<span class="sd">                    e.g.; Backup / Restore / Data Aging</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict - JSON request to pass to the API</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Backup&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;Restore&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;Data Aging&quot;</span><span class="p">:</span> <span class="mi">16</span>
        <span class="p">}</span>

        <span class="n">request_json1</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[{</span>
                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}]</span>
            <span class="p">},</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientProps&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clientActivityControl&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;activityControlOptions&quot;</span><span class="p">:</span> <span class="p">[{</span>
                            <span class="s2">&quot;activityType&quot;</span><span class="p">:</span> <span class="n">options_dict</span><span class="p">[</span><span class="n">option</span><span class="p">],</span>
                            <span class="s2">&quot;enableAfterADelay&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="s2">&quot;enableActivityType&quot;</span><span class="p">:</span> <span class="n">enable</span>
                        <span class="p">}]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">request_json2</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[{</span>
                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                <span class="p">}]</span>
            <span class="p">},</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientProps&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clientActivityControl&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;activityControlOptions&quot;</span><span class="p">:</span> <span class="p">[{</span>
                            <span class="s2">&quot;activityType&quot;</span><span class="p">:</span> <span class="n">options_dict</span><span class="p">[</span><span class="n">option</span><span class="p">],</span>
                            <span class="s2">&quot;enableAfterADelay&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="s2">&quot;enableActivityType&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="s2">&quot;dateTime&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;TimeZoneName&quot;</span><span class="p">:</span> <span class="s2">&quot;(UTC) Coordinated Universal Time&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;timeValue&quot;</span><span class="p">:</span> <span class="n">enable_time</span>
                            <span class="p">}</span>
                        <span class="p">}]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">enable_time</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">request_json2</span>

        <span class="k">return</span> <span class="n">request_json1</span>

    <span class="k">def</span> <span class="nf">_update_client_props_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">properties_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the update client properties JSON request to pass to the API as per</span>
<span class="sd">            the property mentioned by the user.</span>

<span class="sd">            Args:</span>
<span class="sd">                properties_dict (dict)  --  client property dict which is to be updated</span>
<span class="sd">                    e.g.: {</span>
<span class="sd">                            &quot;EnableSnapBackups&quot;: True</span>
<span class="sd">                          }</span>

<span class="sd">            Returns:</span>
<span class="sd">                Client Properties update dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientProperties&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;clientProps&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">},</span>
            <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">request_json</span><span class="p">[</span><span class="s1">&#39;clientProperties&#39;</span><span class="p">][</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">properties_dict</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">request_json</span>

    <span class="k">def</span> <span class="nf">_make_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">upload_url</span><span class="p">,</span>
                      <span class="n">file_contents</span><span class="p">,</span>
                      <span class="n">headers</span><span class="p">,</span>
                      <span class="n">request_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">chunk_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Makes the request to the server to upload the specified file contents on the</span>
<span class="sd">            client machine</span>

<span class="sd">            Args:</span>
<span class="sd">                upload_url      (str)   --  request url on which the request is to be done</span>

<span class="sd">                file_contents   (str)   --  data from the file which is to be copied</span>

<span class="sd">                headers         (str)   --  request headers for this api</span>

<span class="sd">                request_id      (int)   --  request id received from the first upload request.</span>
<span class="sd">                                                request id is used to uniquely identify</span>
<span class="sd">                                                chunks of data</span>
<span class="sd">                    default: None</span>

<span class="sd">                chunk_offset    (int)   --  number of bytes written till previous upload request.</span>
<span class="sd">                                                chunk_offset is used to specify from where to</span>
<span class="sd">                                                write data on specified file</span>
<span class="sd">                    default: None</span>

<span class="sd">            Returns:</span>
<span class="sd">                (int, int)  -   request id and chunk_offset returned from the response</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to upload the file</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">request_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">upload_url</span> <span class="o">+=</span> <span class="s1">&#39;&amp;requestId=</span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">request_id</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">upload_url</span><span class="p">,</span> <span class="n">file_contents</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorString&#39;</span><span class="p">]</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                            <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Failed to upload file with error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="n">error_string</span>
                            <span class="p">)</span>
                        <span class="p">)</span>

                <span class="k">if</span> <span class="s1">&#39;requestId&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">request_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;requestId&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;chunkOffset&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">chunk_offset</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;chunkOffset&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_instance_of_client</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the instance associated with this client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   instance on which the client is installed</span>

<span class="sd">                    e.g.;   Instance001</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to get the value of instance</span>

<span class="sd">                    if operation is not supported for the client OS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;powershell.exe Get-Content &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">install_directory</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">,</span> <span class="s1">&#39;QinetixVM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&#39; &#39;&quot;</span><span class="p">)</span>
            <span class="p">)</span>

            <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">exit_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>

        <span class="k">elif</span> <span class="s1">&#39;unix&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;cat </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">install_directory</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;galaxy_vm&#39;</span><span class="p">))</span>

            <span class="n">__</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;GALAXY_INST=&quot;(.+?)&quot;;&#39;</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">temp</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_log_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the path of the log directory on the client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str     -   path of the log directory on the client</span>

<span class="sd">                    e.g.;</span>

<span class="sd">                        -   ..\\\\ContentStore\\\\Log Files</span>

<span class="sd">                        -   ../commvault/Log_Files</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to get the value of log directory path</span>

<span class="sd">                    if operation is not supported for the client OS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">key</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;HKLM:\SOFTWARE\CommVault Systems\Galaxy\</span><span class="si">{0}</span><span class="s1">\EventManager&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>

            <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span>
                <span class="s1">&#39;PowerShell&#39;</span><span class="p">,</span>
                <span class="s1">&#39;(Get-ItemProperty -Path </span><span class="si">{0}</span><span class="s1">).dEVLOGDIR&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&#39; &#39;&quot;</span><span class="p">))</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">exit_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;108&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>

        <span class="k">elif</span> <span class="s1">&#39;unix&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">script</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            FILE=/etc/CommVaultRegistry/Galaxy/</span><span class="si">%s</span><span class="s2">/EventManager/.properties</span>
<span class="s2">            KEY=dEVLOGDIR</span>

<span class="s2">            get_registry_value()</span>
<span class="s2">            {</span>
<span class="s2">                cat $1 | while read line</span>
<span class="s2">                do</span>
<span class="s2">                    key=`echo $line | cut -d&#39; &#39; -f1`</span>
<span class="s2">                    if [ &quot;$key&quot; = &quot;$2&quot; ]; then</span>
<span class="s2">                        echo $line | awk &#39;{print $2}&#39;</span>
<span class="s2">                        break</span>
<span class="s2">                    fi</span>
<span class="s2">                done</span>
<span class="s2">            }</span>

<span class="s2">            echo `get_registry_value $FILE $KEY`</span>
<span class="s2">            &quot;&quot;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span>

            <span class="n">__</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s1">&#39;UnixShell&#39;</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_service_operations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to start / stop / restart a</span>
<span class="sd">            Commvault service, or ALL services.</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name        (str)   --  name of the service to be operated on</span>

<span class="sd">                    default:    None</span>

<span class="sd">                operation           (str)   --  name of the operation to be done</span>

<span class="sd">                    Valid Values are:</span>

<span class="sd">                        -   START</span>

<span class="sd">                        -   STOP</span>

<span class="sd">                        -   RESTART</span>

<span class="sd">                        -   RESTART_SVC_GRP     **Only available for Windows Clients**</span>

<span class="sd">                    default:    None</span>

<span class="sd">                    for None as the input, we will run **RESTART_SVC_GRP** operation</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the operation was performed successfully</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">operations_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;START&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;startsvc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;start&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to start &quot;</span><span class="si">{0}</span><span class="s1">&quot; service.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;STOP&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;stopsvc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;stop&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to stop &quot;</span><span class="si">{0}</span><span class="s1">&quot; service.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;RESTART&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restartsvc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restart&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to restart &quot;</span><span class="si">{0}</span><span class="s1">&quot; service.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;RESTART_SVC_GRP&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;windows_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restartsvcgrp&#39;</span><span class="p">,</span>
                <span class="s1">&#39;unix_command&#39;</span><span class="p">:</span> <span class="s1">&#39;restart&#39;</span><span class="p">,</span>
                <span class="s1">&#39;exception_message&#39;</span><span class="p">:</span> <span class="s1">&#39;Failed to restart &quot;</span><span class="si">{0}</span><span class="s1">&quot; services.</span><span class="se">\n</span><span class="s1"> Error: &quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">operation</span> <span class="k">else</span> <span class="s1">&#39;RESTART_SVC_GRP&#39;</span>

        <span class="k">if</span> <span class="n">operation</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">operations_dict</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_name</span><span class="p">:</span>
            <span class="n">service_name</span> <span class="o">=</span> <span class="s1">&#39;ALL&#39;</span>

        <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; -consoleMode -</span><span class="si">{1}</span><span class="s1"> </span><span class="si">{2}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">install_directory</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">,</span> <span class="s1">&#39;GxAdmin.exe&#39;</span><span class="p">]),</span>
                <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;windows_command&#39;</span><span class="p">],</span>
                <span class="n">service_name</span>
            <span class="p">)</span>

            <span class="n">__</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                    <span class="s1">&#39;Client&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;102&#39;</span><span class="p">,</span>
                    <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;exception_message&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="s1">&#39;unix&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;commvault -instance </span><span class="si">{0}</span><span class="s1"> </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;unix_command&#39;</span><span class="p">]</span>
                <span class="p">)</span>

                <span class="n">__</span><span class="p">,</span> <span class="n">__</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                        <span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Failed to </span><span class="si">{0}</span><span class="s1"> services.</span><span class="se">\n</span><span class="s1">Error: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">operations_dict</span><span class="p">[</span><span class="n">operation</span><span class="p">][</span><span class="s1">&#39;unix_command&#39;</span><span class="p">],</span>
                            <span class="n">error</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;109&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_security_association</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the security association object&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">.security.security_association</span> <span class="k">import</span> <span class="n">SecurityAssociation</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span> <span class="o">=</span> <span class="n">SecurityAssociation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_association_object</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">available_security_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the list of available security roles&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_security_association</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client id as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client name as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the client host name as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_hostname</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">os_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the os information as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_os_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_data_recovery_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is data recovery enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_recovery_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_data_management_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is data management enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_management_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_ci_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is online content index enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_ci_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_backup_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is backup enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_backup_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_restore_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is restore enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_restore_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_data_aging_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is data aging enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_data_aging_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_intelli_snap_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the is intelli snap enabled as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_intelli_snap_enabled</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">install_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the install directory as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_install_directory</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the version as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_pack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the service pack as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_pack</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">job_results_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Treats the job_results_directory pack as a read-only attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_results_directory</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the value of the instance the client is installed on.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_instance_of_client</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">SDKException</span><span class="p">:</span>
                <span class="c1"># pass silently if failed to get the value of instance</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the path of the log directory on the client.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_log_directory</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">SDKException</span><span class="p">:</span>
                <span class="c1"># pass silently if failed to get the value of the log directory</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_log_directory</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">agents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the instance of the Agents class representing the list of Agents</span>
<span class="sd">        installed / configured on the Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="o">=</span> <span class="n">Agents</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the instance of the Schedules class representing the Schedules</span>
<span class="sd">        configured on the Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="n">Schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">users</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the instance of the Users class representing the list of Users</span>
<span class="sd">        with permissions set on the Client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="o">=</span> <span class="n">Users</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_users</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the object of Network class&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network</span>

<div class="viewcode-block" id="Client.enable_backup"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_backup">[docs]</a>    <span class="k">def</span> <span class="nf">enable_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Backup for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable backup</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Backup&#39;</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Backup</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_backup_at_time"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_backup_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">enable_backup_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Backup if not already disabled, and enables at the time specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                enable_time (str)  --  UTC time to enable the backup at, in 24 Hour format</span>
<span class="sd">                    format: YYYY-MM-DD HH:mm:ss</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if time value entered is less than the current time</span>

<span class="sd">                    if time value entered is not of correct format</span>

<span class="sd">                    if failed to enable backup</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time_tuple</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">enable_time</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time_tuple</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Backup&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Backup</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_backup"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.disable_backup">[docs]</a>    <span class="k">def</span> <span class="nf">disable_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Backup for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable backup</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Backup&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Backup</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_restore"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_restore">[docs]</a>    <span class="k">def</span> <span class="nf">enable_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Restore for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable restore</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Restore&#39;</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Restore</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_restore_at_time"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_restore_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">enable_restore_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Restore if not already disabled, and enables at the time specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                enable_time (str)  --  UTC time to enable the restore at, in 24 Hour format</span>
<span class="sd">                    format: YYYY-MM-DD HH:mm:ss</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if time value entered is less than the current time</span>

<span class="sd">                    if time value entered is not of correct format</span>

<span class="sd">                    if failed to enable restore</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time_tuple</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">enable_time</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time_tuple</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Restore&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Restore</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_restore"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.disable_restore">[docs]</a>    <span class="k">def</span> <span class="nf">disable_restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Restore for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable restore</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Restore&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Restore</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_data_aging"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_data_aging">[docs]</a>    <span class="k">def</span> <span class="nf">enable_data_aging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Data Aging for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable data aging</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Data Aging&#39;</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Data Aging</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_data_aging_at_time"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_data_aging_at_time">[docs]</a>    <span class="k">def</span> <span class="nf">enable_data_aging_at_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Data Aging if not already disabled, and enables at the time specified.</span>

<span class="sd">            Args:</span>
<span class="sd">                enable_time (str)  --  UTC time to enable the data aging at, in 24 Hour format</span>
<span class="sd">                    format: YYYY-MM-DD HH:mm:ss</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if time value entered is less than the current time</span>

<span class="sd">                    if time value entered is not of correct format</span>

<span class="sd">                    if failed to enable data aging</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time_tuple</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">enable_time</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time_tuple</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Data Aging&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">enable_time</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Data Aging</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_data_aging"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.disable_data_aging">[docs]</a>    <span class="k">def</span> <span class="nf">disable_data_aging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Data Aging for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable data aging</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_json</span><span class="p">(</span><span class="s1">&#39;Data Aging&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Data Aging</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.execute_script"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.execute_script">[docs]</a>    <span class="k">def</span> <span class="nf">execute_script</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">script_type</span><span class="p">,</span> <span class="n">script</span><span class="p">,</span> <span class="n">script_arguments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the given script of the script type on this client.</span>

<span class="sd">            **Only scripts of text format are supported**, i.e., the scripts should not have</span>
<span class="sd">            any binary/bytes content</span>

<span class="sd">            Args:</span>
<span class="sd">                script_type             (str)   --  type of script to be executed on the client</span>

<span class="sd">                    Script Types Supported:</span>

<span class="sd">                        JAVA</span>

<span class="sd">                        Python</span>

<span class="sd">                        PowerShell</span>

<span class="sd">                        WindowsBatch</span>

<span class="sd">                        UnixShell</span>

<span class="sd">                script                  (str)   --  path of the script to be executed on the client</span>

<span class="sd">                script_arguments        (str)   --  arguments to the script</span>

<span class="sd">                    default: None</span>

<span class="sd">                wait_for_completion     (bool)  --  boolean specifying whether to wait for the</span>
<span class="sd">                script execution to finish or not</span>

<span class="sd">                    default: True</span>

<span class="sd">            Returns:</span>
<span class="sd">                    (int, str, str)</span>

<span class="sd">                int     -   exit code returned from executing the script on the client</span>

<span class="sd">                    default: -1     (exit code not returned in the response)</span>

<span class="sd">                str     -   output returned from executing the script on the client</span>

<span class="sd">                    default: &#39;&#39;     (output not returned in the response)</span>

<span class="sd">                str     -   error returned from executing the script on the client</span>

<span class="sd">                    default: &#39;&#39;     (error not returned in the response)</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if script type argument is not of type string</span>

<span class="sd">                    if script argument is not of type string</span>

<span class="sd">                    if script type is not valid</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">script_type</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">basestring</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="n">script_types</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;java&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">&#39;powershell&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s1">&#39;windowsbatch&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s1">&#39;unixshell&#39;</span><span class="p">:</span> <span class="mi">4</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">script_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">script_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;105&#39;</span><span class="p">)</span>

        <span class="kn">import</span> <span class="nn">html</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">script</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
                <span class="n">script</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">script</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>

        <span class="n">script_lines</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">script_lines_template</span> <span class="o">=</span> <span class="s1">&#39;&lt;scriptLines val=&quot;</span><span class="si">{0}</span><span class="s1">&quot;/&gt;&#39;</span>

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">script</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
            <span class="n">script_lines</span> <span class="o">+=</span> <span class="n">script_lines_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">script_arguments</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">script_arguments</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">script_arguments</span>
        <span class="n">script_arguments</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">script_arguments</span><span class="p">)</span>

        <span class="n">xml_execute_script</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;App_ExecuteCommandReq arguments=&quot;</span><span class="si">{0}</span><span class="s2">&quot; scriptType=&quot;</span><span class="si">{1}</span><span class="s2">&quot; waitForProcessCompletion=&quot;</span><span class="si">{5}</span><span class="s2">&quot;&gt;</span>
<span class="s2">            &lt;client clientId=&quot;</span><span class="si">{2}</span><span class="s2">&quot; clientName=&quot;</span><span class="si">{3}</span><span class="s2">&quot;/&gt;</span>
<span class="s2">            &quot;</span><span class="si">{4}</span><span class="s2">&quot;</span>
<span class="s2">        &lt;/App_ExecuteCommandReq&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">script_arguments</span><span class="p">,</span>
            <span class="n">script_types</span><span class="p">[</span><span class="n">script_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
            <span class="n">script_lines</span><span class="p">,</span>
            <span class="mi">1</span> <span class="k">if</span> <span class="n">wait_for_completion</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">xml_execute_script</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">exit_code</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

                <span class="k">if</span> <span class="s1">&#39;processExitCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;processExitCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;commandLineOutput&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">output</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;commandLineOutput&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error_message</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.execute_command"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.execute_command">[docs]</a>    <span class="k">def</span> <span class="nf">execute_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">script_arguments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wait_for_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes a command on this client.</span>

<span class="sd">            Args:</span>
<span class="sd">                command                 (str)   --  command in string to be executed on the client</span>

<span class="sd">                script_arguments        (str)   --  arguments to the script</span>

<span class="sd">                    default: None</span>

<span class="sd">                wait_for_completion     (bool)  --  boolean specifying whether to wait for the</span>
<span class="sd">                script execution to finish or not</span>

<span class="sd">                    default: True</span>

<span class="sd">            Returns:</span>
<span class="sd">                    (int, str, str)</span>

<span class="sd">                int     -   exit code returned from executing the command on the client</span>

<span class="sd">                    default: -1     (exit code not returned in the response)</span>

<span class="sd">                str     -   output returned from executing the command on the client</span>

<span class="sd">                    default: &#39;&#39;     (output not returned in the response)</span>

<span class="sd">                str     -   error returned from executing the command on the client</span>

<span class="sd">                    default: &#39;&#39;     (error not returned in the response)</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if command argument is not of type string</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="kn">import</span> <span class="nn">html</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="n">script_arguments</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">script_arguments</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">script_arguments</span>
        <span class="n">script_arguments</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">script_arguments</span><span class="p">)</span>

        <span class="n">xml_execute_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;App_ExecuteCommandReq arguments=&quot;</span><span class="si">{0}</span><span class="s2">&quot; command=&quot;</span><span class="si">{1}</span><span class="s2">&quot; waitForProcessCompletion=&quot;</span><span class="si">{4}</span><span class="s2">&quot;&gt;</span>
<span class="s2">            &lt;processinginstructioninfo&gt;</span>
<span class="s2">                &lt;formatFlags continueOnError=&quot;1&quot; elementBased=&quot;1&quot; filterUnInitializedFields=&quot;0&quot; formatted=&quot;0&quot; ignoreUnknownTags=&quot;1&quot; skipIdToNameConversion=&quot;0&quot; skipNameToIdConversion=&quot;0&quot;/&gt;</span>
<span class="s2">            &lt;/processinginstructioninfo&gt;</span>
<span class="s2">            &lt;client clientId=&quot;</span><span class="si">{2}</span><span class="s2">&quot; clientName=&quot;</span><span class="si">{3}</span><span class="s2">&quot;/&gt;</span>
<span class="s2">        &lt;/App_ExecuteCommandReq&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">script_arguments</span><span class="p">,</span>
            <span class="n">command</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span>
            <span class="mi">1</span> <span class="k">if</span> <span class="n">wait_for_completion</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">xml_execute_command</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">exit_code</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

                <span class="k">if</span> <span class="s1">&#39;processExitCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;processExitCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;commandLineOutput&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">output</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;commandLineOutput&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">exit_code</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">error_message</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.enable_intelli_snap"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.enable_intelli_snap">[docs]</a>    <span class="k">def</span> <span class="nf">enable_intelli_snap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enables Intelli Snap for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to enable intelli snap</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enable_intelli_snap_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;EnableSnapBackups&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">}</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">enable_intelli_snap_dict</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to enable Inetlli Snap</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.disable_intelli_snap"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.disable_intelli_snap">[docs]</a>    <span class="k">def</span> <span class="nf">disable_intelli_snap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables Intelli Snap for this Client.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to disable intelli snap</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">disable_intelli_snap_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;EnableSnapBackups&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">disable_intelli_snap_dict</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Failed to disable Inetlli Snap</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if CommServ is able to communicate to the client.</span>

<span class="sd">            Returns:</span>
<span class="sd">                True    -   if the CS is able to connect to the client</span>

<span class="sd">                False   -   if communication fails b/w the CS and the client</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;CHECK_READINESS&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">return</span> <span class="s1">&#39;isClientReady&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;isClientReady&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

<div class="viewcode-block" id="Client.upload_file"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.upload_file">[docs]</a>    <span class="k">def</span> <span class="nf">upload_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_file_path</span><span class="p">,</span> <span class="n">destination_folder</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Upload the specified source file to destination path on the client machine</span>

<span class="sd">            Args:</span>
<span class="sd">                source_file_path    (str)   --  path on the controller machine</span>

<span class="sd">                destination_folder  (str)   --  path on the client machine where the files</span>
<span class="sd">                                                    are to be copied</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to upload the file</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chunk_size</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="n">request_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">chunk_offset</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">source_file_path</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">file_size</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">source_file_path</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Authtoken&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_headers</span><span class="p">[</span><span class="s1">&#39;Authtoken&#39;</span><span class="p">],</span>
            <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
            <span class="s1">&#39;FileName&#39;</span><span class="p">:</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">file_name</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)),</span>
            <span class="s1">&#39;FileSize&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;ParentFolderPath&#39;</span><span class="p">:</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">destination_folder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
        <span class="p">}</span>

        <span class="n">file_stream</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source_file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">file_size</span> <span class="o">&lt;=</span> <span class="n">chunk_size</span><span class="p">:</span>
            <span class="n">upload_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;UPLOAD_FULL_FILE&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileSize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_size</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span><span class="n">upload_url</span><span class="p">,</span> <span class="n">file_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">headers</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">upload_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;UPLOAD_CHUNKED_FILE&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">file_size</span> <span class="o">&gt;</span> <span class="n">chunk_size</span><span class="p">:</span>
                <span class="n">file_size</span> <span class="o">=</span> <span class="n">file_size</span> <span class="o">-</span> <span class="n">chunk_size</span>
                <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileSize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
                <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileEOF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                    <span class="n">upload_url</span><span class="p">,</span> <span class="n">file_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">),</span> <span class="n">headers</span><span class="p">,</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span>
                <span class="p">)</span>

            <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileSize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_size</span><span class="p">)</span>
            <span class="n">headers</span><span class="p">[</span><span class="s1">&#39;FileEOF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                <span class="n">upload_url</span><span class="p">,</span> <span class="n">file_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file_size</span><span class="p">),</span> <span class="n">headers</span><span class="p">,</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">chunk_offset</span>
            <span class="p">)</span></div>

<div class="viewcode-block" id="Client.upload_folder"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.upload_folder">[docs]</a>    <span class="k">def</span> <span class="nf">upload_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_dir</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Uploads the specified source dir to destination path on the client machine</span>

<span class="sd">            Args:</span>
<span class="sd">                source_dir          (str)   --  path on the controller machine</span>

<span class="sd">                destination_dir     (str)   --  path on the client machine where the files</span>
<span class="sd">                                                    are to be copied</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to upload the file</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_create_destination_path</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Returns the path obtained by joining the items in argument</span>

<span class="sd">                The final path to be generated is done based on the operating system path</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="s1">&#39;windows&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">delimiter</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">delimiter</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span>

            <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">argv</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                    <span class="n">base_path</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}{1}{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">base_path</span>

        <span class="n">source_list</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">source_dir</span><span class="p">)</span>

        <span class="n">destination_dir</span> <span class="o">=</span> <span class="n">_create_destination_path</span><span class="p">(</span><span class="n">destination_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">source_dir</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">source_list</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">upload_folder</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.start_service"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.start_service">[docs]</a>    <span class="k">def</span> <span class="nf">start_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to start the Commvault service(s).</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name    (str)   --  name of the service to be started</span>

<span class="sd">                    service name is required only for Windows Clients, as for UNIX clients, the</span>
<span class="sd">                    operation is executed on all services</span>

<span class="sd">                    default:    None</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the service was started successfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to start the service</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="s1">&#39;START&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.stop_service"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.stop_service">[docs]</a>    <span class="k">def</span> <span class="nf">stop_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to stop the Commvault service(s).</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name    (str)   --  name of the service to be stopped</span>

<span class="sd">                    service name is required only for Windows Clients, as for UNIX clients, the</span>
<span class="sd">                    operation is executed on all services</span>

<span class="sd">                    default:    None</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the service was stopped successfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to stop the service</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="s1">&#39;STOP&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.restart_service"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.restart_service">[docs]</a>    <span class="k">def</span> <span class="nf">restart_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to restart the Commvault service(s).</span>

<span class="sd">            Args:</span>
<span class="sd">                service_name    (str)   --  name of the service to be restarted</span>

<span class="sd">                    service name is required only for Windows Clients, as for UNIX clients, the</span>
<span class="sd">                    operation is executed on all services</span>

<span class="sd">                    default:    None</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the service was restarted successfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to restart the service</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span> <span class="s1">&#39;RESTART&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.restart_services"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.restart_services">[docs]</a>    <span class="k">def</span> <span class="nf">restart_services</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_for_service_restart</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes the command on the client machine to restart **ALL** services.</span>

<span class="sd">            Args:</span>
<span class="sd">                wait_for_service_restart    (bool)  --  boolean to specify whether to wait for the</span>
<span class="sd">                services to restart, or just execute the command and exit</span>

<span class="sd">                    if set to True, the method will wait till the services of the client are up</span>

<span class="sd">                    otherwise, the method will trigger a service restart, and exit</span>

<span class="sd">                    default: True</span>

<span class="sd">                timeout                     (int)   --  timeout **(in minutes)** to wait for the</span>
<span class="sd">                services to restart</span>

<span class="sd">                    if the services are not restarted by the timeout value, the method will exit</span>
<span class="sd">                    out with Exception</span>

<span class="sd">                    default: 10</span>

<span class="sd">            Returns:</span>
<span class="sd">                None    -   if the services were restarted sucessfully</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if failed to restart the services before the timeout value</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_service_operations</span><span class="p">(</span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span> <span class="s1">&#39;RESTART_SVC_GRP&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">wait_for_service_restart</span><span class="p">:</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_ready</span><span class="p">:</span>
                        <span class="k">break</span>

                    <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&gt;</span> <span class="n">timeout</span> <span class="o">*</span> <span class="mi">60</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;107&#39;</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">ConnectionError</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.push_network_config"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.push_network_config">[docs]</a>    <span class="k">def</span> <span class="nf">push_network_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Performs a push network configuration on the client</span>

<span class="sd">                Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if input data is invalid</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">xml_execute_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;App_PushFirewallConfigurationRequest&gt;</span>
<span class="s2">            &lt;entity clientName=&quot;</span><span class="si">{0}</span><span class="s2">&quot;/&gt;</span>
<span class="s2">        &lt;/App_PushFirewallConfigurationRequest&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;EXECUTE_QCOMMAND&#39;</span><span class="p">],</span> <span class="n">xml_execute_command</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">if</span> <span class="s1">&#39;entityResponse&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;entityResponse&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                <span class="k">elif</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>

                    <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                        <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.add_user_associations"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.add_user_associations">[docs]</a>    <span class="k">def</span> <span class="nf">add_user_associations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">associations_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds the users to the owners list of this client</span>

<span class="sd">        Args:</span>
<span class="sd">            associations_list   (list)  --  list of owners to be associated with this client</span>
<span class="sd">                Example:</span>
<span class="sd">                    associations_list = [</span>
<span class="sd">                        {</span>
<span class="sd">                            &#39;user_name&#39;: user1,</span>
<span class="sd">                            &#39;role_name&#39;: role1</span>
<span class="sd">                        },</span>
<span class="sd">                        {</span>
<span class="sd">                            &#39;user_name&#39;: user2,</span>
<span class="sd">                            &#39;role_name&#39;: role2</span>
<span class="sd">                        }</span>
<span class="sd">                    ]</span>

<span class="sd">            Note: You can get available roles list using self.available_security_roles</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">associations_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_security_association</span><span class="o">.</span><span class="n">_add_security_association</span><span class="p">(</span><span class="n">associations_list</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.refresh"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.refresh">[docs]</a>    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Refreshes the properties of the Client.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_type_id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_agents</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schedules</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_users</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_network</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Client.set_encryption_property"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.set_encryption_property">[docs]</a>    <span class="k">def</span> <span class="nf">set_encryption_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">value</span><span class="p">,</span>
                                <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">key_len</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;updates encryption properties on client</span>
<span class="sd">        Args:</span>
<span class="sd">            value   (str)   --  enable(True) or disable (False) encryption</span>
<span class="sd">            key     (str)   --  cipher type</span>
<span class="sd">            key_len  (str)   --  cipher key length</span>


<span class="sd">            to enable encryption : give value, key, key_len params</span>
<span class="sd">            to disable: give value param</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">client_props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;clientProps&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;CipherType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
            <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;EnableEncryption&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;EncryptKeyLength&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key_len</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">client_props</span><span class="p">[</span><span class="s1">&#39;EnableEncryption&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">client_props</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update client </span><span class="si">{0}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">Error: </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update </span><span class="si">{0}</span><span class="s2"> client&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                            <span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update the client&quot;</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.set_dedup_property"><a class="viewcode-back" href="../../client.html#cvpysdk.client.Client.set_dedup_property">[docs]</a>    <span class="k">def</span> <span class="nf">set_dedup_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">prop_name</span><span class="p">,</span>
                           <span class="n">prop_value</span><span class="p">,</span>
                           <span class="n">client_side_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                           <span class="n">max_cache_db</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Set DDB propeties</span>

<span class="sd">          :param prop_name:    property name</span>
<span class="sd">        :param prop_value:   property value</span>
<span class="sd">        :return:</span>

<span class="sd">        prop_name and prop_value:</span>
<span class="sd">            clientSideDeduplication values:</span>
<span class="sd">                USE_SPSETTINGS, to use storage policy settings</span>
<span class="sd">                ON_CLIENT, to enable client side deduplication</span>
<span class="sd">                OFF, to disable client side deduplication</span>

<span class="sd">                enableClientSideCache: True/False</span>
<span class="sd">                maxCacheDB: Valid values are:</span>
<span class="sd">                                1024</span>
<span class="sd">                                2048</span>
<span class="sd">                                4096</span>
<span class="sd">                                8192</span>
<span class="sd">                                16384</span>
<span class="sd">                                32768</span>
<span class="sd">                                65536</span>
<span class="sd">                                131072</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">prop_name</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prop_value</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">prop_name</span> <span class="o">==</span> <span class="s2">&quot;clientSideDeduplication&quot;</span> <span class="ow">and</span> <span class="n">prop_value</span> <span class="o">==</span> <span class="s2">&quot;ON_CLIENT&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">client_side_cache</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">and</span> <span class="n">max_cache_db</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dedupe_props</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;deDuplicationProperties&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;clientSideDeduplication&#39;</span><span class="p">:</span> <span class="n">prop_value</span><span class="p">,</span>
                        <span class="s1">&#39;enableClientSideDiskCache&#39;</span><span class="p">:</span> <span class="n">client_side_cache</span><span class="p">,</span>
                        <span class="s1">&#39;maxCacheDb&#39;</span><span class="p">:</span> <span class="n">max_cache_db</span>
                    <span class="p">}</span>
                <span class="p">}</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">dedupe_props</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;deDuplicationProperties&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;clientSideDeduplication&#39;</span><span class="p">:</span> <span class="n">prop_value</span><span class="p">,</span>
                        <span class="s1">&#39;enableClientSideDiskCache&#39;</span><span class="p">:</span> <span class="n">client_side_cache</span>
                    <span class="p">}</span>
                <span class="p">}</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">dedupe_props</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;deDuplicationProperties&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;clientSideDeduplication&#39;</span><span class="p">:</span> <span class="n">prop_value</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_client_props_json</span><span class="p">(</span><span class="n">dedupe_props</span><span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CLIENT</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_client_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;errorCode&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update client </span><span class="si">{0}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">Error: </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update </span><span class="si">{0}</span><span class="s2"> client&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">client_name</span>
                            <span class="p">)</span>

                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;response&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;errorCode&#39;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Failed to update the client&quot;</span>
                        <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Client&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Commvault Systems Inc. All Rights Reserved.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>