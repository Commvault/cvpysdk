

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cvpysdk.instances.oracleinstance &mdash; Developer SDK - Python 11.24 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Developer SDK - Python
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Developer SDK - Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>cvpysdk.instances.oracleinstance</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for cvpysdk.instances.oracleinstance</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># Copyright Commvault Systems, Inc.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1"># --------------------------------------------------------------------------</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">File for operating on a Oracle Instance.</span>

<span class="sd">OracleInstance is the only class defined in this file.</span>

<span class="sd">OracleInstance: Derived class from Instance Base class, representing an</span>
<span class="sd">                            oracle instance, and to perform operations on that instance</span>

<span class="sd">OracleInstance:</span>

<span class="sd">    __init__()                          --  Constructor for the class</span>

<span class="sd">    restore_to_disk                     --  Performs restore to disk(app free restore)</span>

<span class="sd">    _get_instance_properties()          --  gets the properties of this instance</span>

<span class="sd">    _get_instance_properties_json()     --  gets all the instance related properties</span>
<span class="sd">                                            of Oracle instance</span>

<span class="sd">    _restore_common_options_json()      --  Setter for the Common options in restore JSON</span>

<span class="sd">    _restore_destination_json()         --  Setter for the Oracle destination options in restore JSON</span>


<span class="sd">    _get_live_sync_oracleopt_json()     --  Constructs JSON with oracle agent specific options</span>
<span class="sd">                                            for configuring live sync</span>

<span class="sd">    _live_sync_restore_json()           --  Constructs oracle live sync restore JSON</span>
<span class="sd">                                            by combining common and agent specific options</span>

<span class="sd">    create_live_sync_schedule()         --  Creates live sync schedule for the given</span>
<span class="sd">                                            destination oracle instance</span>

<span class="sd">    configure_data_masking_policy()     --  Configures data masking</span>
<span class="sd">                                            policy with given parameters</span>

<span class="sd">    get_masking_policy_id()             --  To get policy id of</span>
<span class="sd">                                            given data masking policy</span>

<span class="sd">    standalone_data_masking()           --  Launch standalone data masking</span>
<span class="sd">                                            job on given instance</span>

<span class="sd">    delete_data_masking_policy()        --  Deletes given data masking policy</span>

<span class="sd">    _get_browse_options                 --  To get browse options for oracle instance</span>

<span class="sd">    _process_browse_response            --  To process browse response</span>

<span class="sd">    log_stream()                        --  Getter for fetching archive log stream count</span>

<span class="sd">    oracle_home()                       --  Getter for $ORACLE_HOME of this instance</span>

<span class="sd">    version()                           --  Getter for oracle database version</span>

<span class="sd">    is_catalog_enabled()                --  Getter to check if catalog is enabled for backups</span>

<span class="sd">    catalog_user()                      --  Getter for getting catalog user</span>

<span class="sd">    catalog_db()                        --  Getter for catalog database name</span>

<span class="sd">    archive_log_dest()                  --  Getter for archivelog destination</span>

<span class="sd">    os_user()                           --  Getter for OS user owning oracle software</span>

<span class="sd">    cmd_sp()                            --  Getter for command line storage policy</span>

<span class="sd">    log_sp()                            --  Getter for log storage policy</span>

<span class="sd">    is_autobackup_on()                  --  Getter to check if autobackup is enabled</span>

<span class="sd">    db_user()                           --  Getter for SYS database user name</span>

<span class="sd">    tns_name()                          --  Getter for TNS connect string</span>

<span class="sd">    dbid()                              --  Getter for getting DBID of database</span>

<span class="sd">    restore()                           --  Performs restore on the instance</span>
<span class="sd">    </span>
<span class="sd">    _restore_db_dump_option_json()       --  setter for the oracle dbdump Restore option in restore JSON</span>
<span class="sd">    </span>
<span class="sd">    _restore_oracle_option_json()       --  setter for the oracle Restore option in restore JSON</span>
<span class="sd">    </span>
<span class="sd">    _restore_json()                     --  returns the JSON request to pass to the API as per</span>
<span class="sd">    the options selected by the user</span>
<span class="sd">    </span>
<span class="sd">    restore_in_place()                  --  restore for oracle logical dump</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>
<span class="kn">from</span> <span class="nn">past.builtins</span> <span class="kn">import</span> <span class="n">basestring</span>
<span class="kn">from</span> <span class="nn">base64</span> <span class="kn">import</span> <span class="n">b64encode</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">..exception</span> <span class="kn">import</span> <span class="n">SDKException</span>
<span class="kn">from</span> <span class="nn">.dbinstance</span> <span class="kn">import</span> <span class="n">DatabaseInstance</span>



<div class="viewcode-block" id="OracleInstance"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance">[docs]</a><span class="k">class</span> <span class="nc">OracleInstance</span><span class="p">(</span><span class="n">DatabaseInstance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to represent a standalone Oracle Instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_object</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">instance_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the class</span>

<span class="sd">        Args:</span>
<span class="sd">            agent_object    -- instance of the Agent class</span>
<span class="sd">            instance_name   -- name of the instance</span>
<span class="sd">            instance_id     --  id of the instance</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">OracleInstance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">agent_object</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">instance_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_LIVE_SYNC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;LIVE_SYNC&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dbDump_restore_json</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_oracle_restore_json</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="OracleInstance.restore_to_disk"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.restore_to_disk">[docs]</a>    <span class="k">def</span> <span class="nf">restore_to_disk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">destination_client</span><span class="p">,</span>
                        <span class="n">destination_path</span><span class="p">,</span>
                        <span class="n">backup_job_ids</span><span class="p">,</span>
                        <span class="n">user_name</span><span class="p">,</span>
                        <span class="n">password</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform restore to disk [Application free restore] for Oracle</span>

<span class="sd">            Args:</span>
<span class="sd">                destination_client          (str)   --  destination client name</span>

<span class="sd">                destination_path:           (str)   --  destination path</span>

<span class="sd">                backup_job_ids              (list)  --  list of backup job IDs</span>
<span class="sd">                                                        to be used for disk restore</span>

<span class="sd">                user_name                   (str)   --  impersonation user name to</span>
<span class="sd">                                                        restore to destination client</span>

<span class="sd">                password                    (str)   --  impersonation user password</span>

<span class="sd">            Returns:</span>
<span class="sd">                object -     Job containing restore details</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException</span>
<span class="sd">                    if backup_job_ids not given as list of items</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">backup_job_ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_restore_to_disk_json</span><span class="p">(</span><span class="n">destination_client</span><span class="p">,</span>
                                                      <span class="n">destination_path</span><span class="p">,</span>
                                                      <span class="n">backup_job_ids</span><span class="p">,</span>
                                                      <span class="n">user_name</span><span class="p">,</span>
                                                      <span class="n">password</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_restore_response</span><span class="p">(</span><span class="n">request_json</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_instance_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the properties of this instance.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">OracleInstance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_get_instance_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_instance_properties_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Gets all the instance related properties of Informix instance.</span>

<span class="sd">           Returns:</span>
<span class="sd">                dict - all instance properties put inside a dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">instance_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;instanceProperties&quot;</span><span class="p">:</span>
                <span class="p">{</span>
                    <span class="s2">&quot;instance&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance</span><span class="p">,</span>
                    <span class="s2">&quot;oracleInstance&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span>
                <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">instance_json</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter to fetch log stream count at instance level</span>

<span class="sd">            Returns:</span>
<span class="sd">                    int     --  log stream count atinstance level</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;numberOfArchiveLogBackupStreams&quot;</span><span class="p">)</span>

    <span class="nd">@log_stream</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">log_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_stream</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter to set log stream count at instance level</span>

<span class="sd">            Args:</span>
<span class="sd">                log_stream    (int)    --  log stream count at instance level</span>
<span class="sd">                                           default = 1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_instance_properties</span><span class="p">(</span>
            <span class="s2">&quot;_instanceprop[&#39;numberOfArchiveLogBackupStreams&#39;]&quot;</span><span class="p">,</span> <span class="n">log_stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_restore_common_options_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the Common options in restore JSON</span>

<span class="sd">            Args:</span>
<span class="sd">                value   (dict)  --  dict of common options</span>
<span class="sd">                                    for restore json</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_restore_common_options_json</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;baseline_jobid&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_commonoption_restore_json</span> <span class="o">=</span> <span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;clusterDBBackedup&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clusterDBBackedup&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                    <span class="s2">&quot;restoreToDisk&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;restoreToDisk&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                    <span class="s2">&quot;baselineBackup&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;baselineRefTime&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;baseline_ref_time&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;isDBArchiveRestore&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isDBArchiveRestore&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                    <span class="s2">&quot;baselineJobId&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;baseline_jobid&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;copyToObjectStore&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;copyToObjectStore&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                    <span class="s2">&quot;onePassRestore&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;onePassRestore&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                    <span class="s2">&quot;syncRestore&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;syncRestore&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                <span class="p">})</span>

    <span class="k">def</span> <span class="nf">_restore_destination_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the Oracle destination options in restore JSON</span>

<span class="sd">            Args:</span>
<span class="sd">                    value   (dict)  --  dict of values for destination option</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_destination_restore_json</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;noOfStreams&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;number_of_streams&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                <span class="s2">&quot;destClient&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination_client&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                              <span class="p">},</span>
                <span class="s2">&quot;destinationInstance&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination_client&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;instanceName&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination_instance&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;appName&quot;</span><span class="p">:</span> <span class="s2">&quot;Oracle&quot;</span>
                                       <span class="p">}</span>

            <span class="p">})</span>

    <span class="k">def</span> <span class="nf">_get_live_sync_oracleopt_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">               Constructs JSON with oracle agent specific options</span>
<span class="sd">               for configuring live sync</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_oracle_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;renamePathForAllTablespaces&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;redirectAllItemsSelected&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;validate&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;ctrlRestoreFrom&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s2">&quot;noCatalog&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s2">&quot;cloneEnv&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;ctrlFileBackupType&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="s2">&quot;restoreControlFile&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s2">&quot;duplicate&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;tableViewRestore&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;osID&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                                <span class="s2">&quot;partialRestore&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;restoreStream&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                                <span class="s2">&quot;restoreSPFile&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;recover&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s2">&quot;oraExtendedRstOptions&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="s2">&quot;recoverFrom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                                <span class="s2">&quot;archiveLog&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s2">&quot;restoreData&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s2">&quot;restoreFrom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                                <span class="s2">&quot;crossmachineRestoreOptions&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;onlineLogDest&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                                    <span class="p">},</span>
                                <span class="s2">&quot;liveSyncOpt&quot;</span><span class="p">:{</span>
                                    <span class="s2">&quot;restoreInStandby&quot;</span><span class="p">:</span><span class="kc">False</span>
                                <span class="p">}</span>
                                <span class="p">}</span>


    <span class="k">def</span> <span class="nf">_live_sync_restore_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dest_client</span><span class="p">,</span> <span class="n">dest_instance</span><span class="p">,</span> <span class="n">baseline_jobid</span><span class="p">,</span>
                                <span class="n">baseline_ref_time</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">,</span> <span class="n">source_backupset_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">               Constructs oracle live sync restore JSON by combining common</span>
<span class="sd">               and agent specific options</span>

<span class="sd">                   Args:</span>
<span class="sd">                       dest_client  (str)   --  The destination client name for live sync</span>

<span class="sd">                       dest_instance    (str)   --  The destination instance name for live sync</span>

<span class="sd">                       baseline_jobid   (int)   --  The jobid of the baseline backup job</span>

<span class="sd">                       baseline_ref_time    (int)   --  The reference time/start time</span>
<span class="sd">                                                        of the baseline backup</span>

<span class="sd">                       schedule_name    (str)   --  The name of the live sync schedule to be created</span>

<span class="sd">                       source_backupset_id  (int)   --  The ID of the source backupset</span>
<span class="sd">                                                        of source oracle instance for which</span>
<span class="sd">                                                        live sync needs to be configured</span>

<span class="sd">                    Returns:</span>
<span class="sd">                        (str)  --   The live sync restore JSON that is constructed</span>
<span class="sd">                                    using oracle and common options</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">restore_json</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_restore_json</span><span class="p">(</span><span class="n">destination_client</span><span class="o">=</span><span class="n">dest_client</span><span class="p">,</span>
                                             <span class="n">destination_instance</span><span class="o">=</span><span class="n">dest_instance</span><span class="p">,</span>
                                             <span class="n">baseline_jobid</span><span class="o">=</span><span class="n">baseline_jobid</span><span class="p">,</span>
                                             <span class="n">baseline_ref_time</span><span class="o">=</span><span class="n">baseline_ref_time</span><span class="p">,</span>
                                             <span class="n">syncRestore</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                             <span class="n">no_of_streams</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                            <span class="p">)</span>
        <span class="n">restore_option</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">restore_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;restore_option&quot;</span><span class="p">):</span>
            <span class="n">restore_option</span> <span class="o">=</span> <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;restore_option&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">restore_json</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;restore_option&quot;</span><span class="p">:</span>
                    <span class="n">restore_option</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">restore_json</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">restore_option</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">restore_json</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_live_sync_oracleopt_json</span><span class="p">()</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;associations&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;subclientId&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;associations&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;backupsetId&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_backupset_id</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;associations&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;subclientName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;associations&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;backupsetName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;associations&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;_type_&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">][</span><span class="s1">&#39;taskType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;subTasks&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;subTask&#39;</span><span class="p">][</span><span class="s1">&#39;operationType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1007</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;subTasks&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;subTask&#39;</span><span class="p">][</span><span class="s1">&#39;subTaskName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule_name</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s1">&#39;taskInfo&#39;</span><span class="p">][</span><span class="s1">&#39;subTasks&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;pattern&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;freq_type&quot;</span><span class="p">:</span> <span class="mi">4096</span>
        <span class="p">}</span>
        <span class="n">destinationInstance</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientName&quot;</span><span class="p">:</span><span class="n">dest_client</span><span class="p">,</span>
            <span class="s2">&quot;instanceName&quot;</span><span class="p">:</span><span class="n">dest_instance</span><span class="p">,</span>
            <span class="s2">&quot;appName&quot;</span><span class="p">:</span><span class="s2">&quot;Oracle&quot;</span>
        <span class="p">}</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;destination&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;destinationInstance&quot;</span><span class="p">:</span><span class="n">destinationInstance</span><span class="p">})</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;oracleOpt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_oracle_options</span>
        <span class="k">return</span> <span class="n">restore_json</span>


<div class="viewcode-block" id="OracleInstance.create_live_sync_schedule"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.create_live_sync_schedule">[docs]</a>    <span class="k">def</span> <span class="nf">create_live_sync_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dest_client</span><span class="p">,</span> <span class="n">dest_instance</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">               Runs full backup on source oracle instance and</span>
<span class="sd">               Creates live sync schdule for the given destination oracle instance</span>

<span class="sd">                   Args:</span>
<span class="sd">                       dest_client  (str)   --  The destination client name for live sync</span>

<span class="sd">                       dest_instance    (str)   --  The destination instance name for live sync</span>

<span class="sd">                       schedule_name    (str)   --  The name of the live sync schedule to be created</span>

<span class="sd">                   Returns:</span>
<span class="sd">                        (object)  --   The job object of the baseline backup that will be replicated</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_backupset_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backupsets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">backupset_id</span><span class="p">)</span>
        <span class="n">subclient_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclients</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
        <span class="n">baseline_job_object</span> <span class="o">=</span> <span class="n">subclient_obj</span><span class="o">.</span><span class="n">backup</span><span class="p">(</span><span class="n">backup_level</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">baseline_job_object</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">baseline_job_object</span><span class="o">.</span><span class="n">delay_reason</span><span class="p">)</span>
        <span class="n">baseline_ref_time</span> <span class="o">=</span> <span class="n">baseline_job_object</span><span class="o">.</span><span class="n">summary</span><span class="p">[</span><span class="s1">&#39;jobStartTime&#39;</span><span class="p">]</span>
        <span class="n">baseline_jobid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">baseline_job_object</span><span class="o">.</span><span class="n">job_id</span><span class="p">)</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_live_sync_restore_json</span><span class="p">(</span><span class="n">dest_client</span><span class="p">,</span> <span class="n">dest_instance</span><span class="p">,</span> <span class="n">baseline_jobid</span><span class="p">,</span>
                                                    <span class="n">baseline_ref_time</span><span class="p">,</span> <span class="n">schedule_name</span><span class="p">,</span> <span class="n">source_backupset_id</span><span class="p">)</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_LIVE_SYNC</span><span class="p">,</span> <span class="n">request_json</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="k">if</span> <span class="s2">&quot;taskId&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="k">return</span> <span class="n">baseline_job_object</span>
                <span class="k">elif</span> <span class="s2">&quot;errorCode&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="s1">&#39;Live Sync configuration failed</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">error_message</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Failed to create schedule&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>


<div class="viewcode-block" id="OracleInstance.configure_data_masking_policy"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.configure_data_masking_policy">[docs]</a>    <span class="k">def</span> <span class="nf">configure_data_masking_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">policy_name</span><span class="p">,</span> <span class="n">table_list_of_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configures data masking policy with given parameters</span>
<span class="sd">        Args:</span>
<span class="sd">            policy_name         (str)   --  string representing policy name</span>
<span class="sd">            table_list_of_dict  list(dict)  -- list containing one dict item representing</span>
<span class="sd">                                                rules for single table</span>
<span class="sd">            Sample  list</span>
<span class="sd">            Tables:</span>
<span class="sd">                    [</span>
<span class="sd">                    {</span>
<span class="sd">                    &quot;name&quot;:&quot;schema_name.table_name&quot;,</span>
<span class="sd">                    &quot;columns&quot;: [ {&quot;name&quot;:&quot;column_name&quot;, &quot;type&quot;:&quot;algorithm_type&quot;},</span>
<span class="sd">                                &quot;arguments&quot;:[list of strings]]</span>
<span class="sd">                    }</span>
<span class="sd">                    ]</span>
<span class="sd">                    Sample :</span>
<span class="sd">                    [</span>
<span class="sd">                    {</span>
<span class="sd">                    &quot;name&quot;:&quot;HR.NUMNEW&quot;,</span>
<span class="sd">                    &quot;columns&quot;:[{&quot;name&quot;:&quot;N1&quot;,&quot;type&quot;:0},{&quot;name&quot;:&quot;N2&quot;,&quot;type&quot;:2,</span>
<span class="sd">                    &quot;arguments&quot;:[&quot;1000&quot;,&quot;2000&quot;]}]</span>
<span class="sd">                    },</span>
<span class="sd">                    {</span>
<span class="sd">                    &quot;name&quot;:&quot;HR.CHANGE&quot;,</span>
<span class="sd">                    &quot;columns&quot;:[{&quot;name&quot;:&quot;C1&quot;,&quot;type&quot;:1},{&quot;name&quot;:&quot;C2&quot;,&quot;type&quot;:1}]</span>
<span class="sd">                    }</span>
<span class="sd">                    ]</span>
<span class="sd">            schema_name , table_name, column_name: str</span>
<span class="sd">            Column type key in main dict takes list of dict as value :</span>
<span class="sd">            This list of dict represents each column name and type of algorithm</span>
<span class="sd">            and arguments if any for that algorithm</span>
<span class="sd">            arguments : list of strings</span>

<span class="sd">            Choose appropriate algorithm type and pass necessary arguments based</span>
<span class="sd">            on column type</span>

<span class="sd">            Algorithm       Arguments mandatory       Arguments Format        Algorithm type number</span>

<span class="sd">            Shuffling           NA                              NA                      0</span>
<span class="sd">            Numeric Range       [min, max]                  [&quot;1000&quot;,&quot;2000&quot;]             2</span>
<span class="sd">            Numeric Variance    [variance percentage]           [&quot;50&quot;]                  3</span>
<span class="sd">            FPE                 NA                              NA                      1</span>
<span class="sd">            Fixed String        string_to_replace           [&quot;string_to_replace&quot;]       4</span>


<span class="sd">            Supported Algorithms :</span>

<span class="sd">            Column Type     Algorithms Supported</span>

<span class="sd">            Numeric         Shuffling, FPE, Numeric Range, Numeric Variance</span>
<span class="sd">            Char            Shuffling , FPE , Fixed String</span>
<span class="sd">            Varchar         Shuffling , FPE , Fixed String</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;opType&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;policy&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;instanceId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)},</span>
                <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;tables&quot;</span><span class="p">:</span> <span class="n">table_list_of_dict</span><span class="p">},</span>
                <span class="s2">&quot;policy&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;policyName&quot;</span><span class="p">:</span> <span class="n">policy_name</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;MASKING_POLICY&#39;</span><span class="p">],</span> <span class="n">request_json</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">error_string</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                        <span class="s1">&#39;Instance&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;102&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Error while creating Data masking policy</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">error_string</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="OracleInstance.get_masking_policy_id"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.get_masking_policy_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_masking_policy_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">policy_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns policy id of given data masking policy</span>
<span class="sd">        Args:</span>
<span class="sd">            policy_name          (str)       -- data masking policy name</span>

<span class="sd">        Returns:</span>
<span class="sd">            policy_id            (int)       -- data masking policy ID</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>
        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;MASKING_POLICY&#39;</span><span class="p">])</span>
        <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">policy_list</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;policies&quot;</span><span class="p">]</span>
        <span class="n">policy_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">policy_list</span><span class="p">:</span>
            <span class="n">pname</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;policy&quot;</span><span class="p">][</span><span class="s2">&quot;policyName&quot;</span><span class="p">]</span>
            <span class="n">associated_instance_id</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s2">&quot;association&quot;</span><span class="p">][</span><span class="s2">&quot;instanceId&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">pname</span> <span class="o">==</span> <span class="n">policy_name</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">associated_instance_id</span> <span class="o">==</span> <span class="n">instance_id</span><span class="p">):</span>
                <span class="n">policy_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;policy&quot;</span><span class="p">][</span><span class="s2">&quot;policyId&quot;</span><span class="p">])</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="k">return</span> <span class="n">policy_id</span></div>

<div class="viewcode-block" id="OracleInstance.delete_data_masking_policy"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.delete_data_masking_policy">[docs]</a>    <span class="k">def</span> <span class="nf">delete_data_masking_policy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">policy_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deletes given data masking policy</span>
<span class="sd">        Args:</span>
<span class="sd">            policy_name         (str)       --  data masking policy name to be deleted</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool                            -- returns true when deletion succeeds</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception</span>

<span class="sd">                When deletion of policy fails</span>

<span class="sd">                When Invalid policy name under given instance is provided</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>
        <span class="n">policy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_masking_policy_id</span><span class="p">(</span><span class="n">policy_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">policy_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                <span class="s1">&#39;Instance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;106&#39;</span><span class="p">)</span>

        <span class="n">request_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;opType&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;policy&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;instanceId&quot;</span><span class="p">:</span> <span class="n">source_instance_id</span><span class="p">},</span>
                <span class="s2">&quot;policy&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;policyId&quot;</span><span class="p">:</span> <span class="n">policy_id</span><span class="p">,</span> <span class="s2">&quot;policyName&quot;</span><span class="p">:</span> <span class="n">policy_name</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;MASKING_POLICY&#39;</span><span class="p">],</span> <span class="n">request_json</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
                <span class="n">error_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;errorCode&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">error_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                        <span class="s1">&#39;Instance&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;102&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Error while deleting Data masking policy</span><span class="se">\n</span><span class="s1">Error&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">))</span></div>

<div class="viewcode-block" id="OracleInstance.standalone_data_masking"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.standalone_data_masking">[docs]</a>    <span class="k">def</span> <span class="nf">standalone_data_masking</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">policy_name</span><span class="p">,</span>
            <span class="n">destination_client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">destination_instance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Launch standalone data masking job on given instance</span>

<span class="sd">        Args:</span>

<span class="sd">            policy_name          (str)       -- data masking policy name</span>

<span class="sd">            destination_client   (str)       -- destination client in which destination</span>
<span class="sd">            instance exists</span>

<span class="sd">            destination_instance (str)       -- destination instance to which masking</span>
<span class="sd">            to be applied</span>

<span class="sd">        Returns:</span>
<span class="sd">            object -- Job containing data masking job details</span>


<span class="sd">        Raises:</span>
<span class="sd">            SDKException</span>
<span class="sd">                if policy ID retrieved is None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">destination_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">destination_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">destination_instance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">destination_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_name</span>
        <span class="n">destination_client_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">destination_client</span><span class="p">)</span>
        <span class="n">destination_agent_object</span> <span class="o">=</span> <span class="n">destination_client_object</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;oracle&#39;</span><span class="p">)</span>
        <span class="n">destination_instance_object</span> <span class="o">=</span> <span class="n">destination_agent_object</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">destination_instance</span><span class="p">)</span>
        <span class="n">destination_instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">destination_instance_object</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>
        <span class="n">source_instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>
        <span class="n">policy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_masking_policy_id</span><span class="p">(</span><span class="n">policy_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">policy_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span>
                <span class="s1">&#39;Instance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;106&#39;</span><span class="p">)</span>
        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_restore_json</span><span class="p">(</span><span class="n">paths</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">destination_instance_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="n">destination_client</span><span class="p">,</span>
            <span class="s2">&quot;instanceName&quot;</span><span class="p">:</span> <span class="n">destination_instance</span><span class="p">,</span>
            <span class="s2">&quot;instanceId&quot;</span><span class="p">:</span> <span class="n">destination_instance_id</span>
        <span class="p">}</span>
        <span class="n">data_masking_options</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;isStandalone&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;dbDMPolicy&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;association&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;instanceId&quot;</span><span class="p">:</span> <span class="n">source_instance_id</span><span class="p">},</span>
                <span class="s2">&quot;policy&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;policyId&quot;</span><span class="p">:</span> <span class="n">policy_id</span><span class="p">,</span>
                    <span class="s2">&quot;policyName&quot;</span><span class="p">:</span> <span class="n">policy_name</span><span class="p">}}}</span>
        <span class="n">request_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;destination&quot;</span><span class="p">][</span><span class="s2">&quot;destClient&quot;</span><span class="p">][</span><span class="s2">&quot;clientName&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">destination_client</span>
        <span class="n">request_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;destination&quot;</span><span class="p">][</span><span class="s2">&quot;destinationInstance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">destination_instance_json</span>
        <span class="n">request_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;dbDataMaskingOptions&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_masking_options</span>
        <span class="k">del</span> <span class="n">request_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span><span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;fileOption&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_restore_response</span><span class="p">(</span><span class="n">request_json</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_oracle_restore_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination_client</span><span class="p">,</span>
                                 <span class="n">instance_name</span><span class="p">,</span> <span class="n">tablespaces</span><span class="p">,</span>
                                 <span class="n">files</span><span class="p">,</span> <span class="n">browse_option</span><span class="p">,</span>
                                 <span class="n">common_options</span><span class="p">,</span> <span class="n">oracle_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the basic restore JSON from base class and modifies it for oracle</span>

<span class="sd">        Args:</span>
<span class="sd">            destination_client  (str)   --  Destination client name</span>

<span class="sd">            instance_name   (str)   --  instance name to restore</span>

<span class="sd">            tablespaces (list)  --  tablespace name list</span>

<span class="sd">            files   (dict)  --  fileOptions</span>

<span class="sd">            browse_option   (dict)  --  dict containing browse options</span>

<span class="sd">            common_options  (dict)  --  dict containing common options</span>

<span class="sd">            oracle_options  (dict)  --  dict containing other oracle options</span>

<span class="sd">        Returns:</span>
<span class="sd">            (dict) -- JSON formatted options to restore the oracle database</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError:</span>
<span class="sd">                if tablespace is passed as a list</span>
<span class="sd">                if files is not passed as a dictionary</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tablespaces</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Expecting a list for tablespaces&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Expecting a dict for files&#39;</span><span class="p">)</span>

        <span class="n">destination_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">clients</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">destination_client</span><span class="p">)</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
        <span class="n">tslist</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;SID: </span><span class="si">{0}</span><span class="s2"> Tablespace: </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">instance_name</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="n">tablespaces</span><span class="p">]</span>
        <span class="n">restore_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_restore_json</span><span class="p">(</span><span class="n">paths</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">common_options</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span><span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span>
                <span class="s2">&quot;commonOptions&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">common_options</span>
        <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span><span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span>
            <span class="s2">&quot;oracleOpt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">oracle_options</span>
        <span class="k">if</span> <span class="n">files</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span><span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;fileOption&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;sourceItem&quot;</span><span class="p">:</span> <span class="n">tslist</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
                <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;fileOption&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>

        <span class="k">if</span> <span class="n">browse_option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">restore_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span><span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span>
                <span class="s2">&quot;browseOption&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">browse_option</span>
        <span class="k">return</span> <span class="n">restore_json</span>

    <span class="k">def</span> <span class="nf">_get_browse_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the database instance properties for browse and restore&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
            <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;appName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;appName&#39;</span><span class="p">],</span>
                <span class="s2">&quot;instanceId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">),</span>
                <span class="s2">&quot;applicationId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;applicationId&#39;</span><span class="p">]),</span>
                <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;clientId&#39;</span><span class="p">]),</span>
                <span class="s2">&quot;instanceName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;instanceName&#39;</span><span class="p">],</span>
                <span class="s2">&quot;clientName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_process_browse_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request_json</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs the DBBrowse API with the request JSON provided for Browse,</span>
<span class="sd">            and returns the contents after parsing the response.</span>

<span class="sd">            Args:</span>
<span class="sd">                request_json    (dict)  --  JSON request to run for the API</span>

<span class="sd">            Returns:</span>
<span class="sd">                list - list containing tablespaces for the instance</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if browse job failed</span>

<span class="sd">                    if browse is empty</span>

<span class="sd">                    if browse is not success</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;tablespaces&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span><span class="p">[</span><span class="s1">&#39;tablespaces&#39;</span><span class="p">]</span>

        <span class="n">browse_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_services</span><span class="p">[</span><span class="s1">&#39;ORACLE_INSTANCE_BROWSE&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span>
        <span class="p">)</span>

        <span class="n">flag</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_cvpysdk_object</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
            <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">browse_service</span><span class="p">,</span> <span class="n">request_json</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
            <span class="n">response_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response_data</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;oracleContent&quot;</span> <span class="ow">in</span> <span class="n">response_data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span><span class="p">[</span><span class="s1">&#39;tablespaces&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="s2">&quot;oracleContent&quot;</span><span class="p">]</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instanceprop</span><span class="p">[</span><span class="s1">&#39;tablespaces&#39;</span><span class="p">]</span>
                <span class="k">elif</span> <span class="s2">&quot;errorCode&quot;</span> <span class="ow">in</span> <span class="n">response_data</span><span class="p">:</span>
                    <span class="n">error_message</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="s1">&#39;errorMessage&#39;</span><span class="p">]</span>
                    <span class="n">o_str</span> <span class="o">=</span> <span class="s1">&#39;Browse job failed</span><span class="se">\n</span><span class="s1">Error: &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">error_message</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="n">o_str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commcell_object</span><span class="o">.</span><span class="n">_update_response_</span><span class="p">(</span>
                <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="n">response_string</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">oracle_home</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        getter for oracle home</span>

<span class="sd">        Returns:</span>
<span class="sd">            string - string of oracle_home</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;oracleHome&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_catalog_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter to check if catalog has been enabled</span>

<span class="sd">        Returns:</span>
<span class="sd">            Bool - True if catalog is enabled. Else False.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;useCatalogConnect&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">catalog_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for catalog user</span>

<span class="sd">        Returns:</span>
<span class="sd">            string  - String containing catalog user</span>

<span class="sd">        Raises:</span>
<span class="sd">            SDKException:</span>
<span class="sd">                if not set</span>

<span class="sd">                if catalog is not enabled</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_catalog_enabled</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Catalog is not enabled.&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;catalogConnect&#39;</span><span class="p">][</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">error_str</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;102&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Catalog user not set - </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_str</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">catalog_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for catalog database</span>

<span class="sd">        Returns:</span>
<span class="sd">            string  - String containing catalog database</span>

<span class="sd">        Raises:</span>
<span class="sd">            SDKException:</span>
<span class="sd">                if not set</span>

<span class="sd">                if catalog is not enabled</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_catalog_enabled</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;Catalog is not enabled.&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;catalogConnect&#39;</span><span class="p">][</span><span class="s1">&#39;domainName&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">error_str</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;102&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Catalog database not set - </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_str</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">os_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for oracle software owner</span>

<span class="sd">        Returns:</span>
<span class="sd">            string - string of oracle software owner</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;oracleUser&#39;</span><span class="p">][</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for oracle version</span>

<span class="sd">        Returns:</span>
<span class="sd">            string - string of oracle instance version</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">archive_log_dest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for the instance&#39;s archive log dest</span>

<span class="sd">        Returns:</span>
<span class="sd">            string - string for archivelog location</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;archiveLogDest&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cmd_sp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for Command Line storage policy</span>

<span class="sd">        Returns:</span>
<span class="sd">            string - string for command line storage policy</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;oracleStorageDevice&#39;</span><span class="p">][</span>
            <span class="s1">&#39;commandLineStoragePolicy&#39;</span><span class="p">][</span><span class="s1">&#39;storagePolicyName&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_sp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Oracle Instance&#39;s Log Storage Poplicy</span>

<span class="sd">        Returns:</span>
<span class="sd">            string  -- string containing log storage policy</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;oracleStorageDevice&#39;</span><span class="p">][</span>
            <span class="s1">&#39;logBackupStoragePolicy&#39;</span><span class="p">][</span><span class="s1">&#39;storagePolicyName&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_autobackup_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter to check whether autobackup is set to ON</span>

<span class="sd">        Returns:</span>
<span class="sd">            Bool - True if autobackup is set to ON. Else False.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;ctrlFileAutoBackup&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">db_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter to get the database user used to log into the database</span>

<span class="sd">        Returns: Oracle database user for the instance</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;sqlConnect&#39;</span><span class="p">][</span><span class="s1">&#39;userName&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tns_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter to get the TNS Names of the database</span>

<span class="sd">        Returns:</span>
<span class="sd">            string  -- TNS name of the instance configured</span>

<span class="sd">        Raises:</span>
<span class="sd">            SDKException:</span>
<span class="sd">                if not set</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;sqlConnect&#39;</span><span class="p">][</span><span class="s1">&#39;domainName&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">error_str</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;102&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Instance TNS Entry not set - </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_str</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dbid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter to get the DBID of the database instance</span>

<span class="sd">        Returns: DBID of the oracle database</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;oracleInstance&#39;</span><span class="p">][</span><span class="s1">&#39;DBID&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tablespaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter for listing out all tablespaces for the instance</span>

<span class="sd">        Returns:</span>
<span class="sd">            list -- list containing tablespace names for the database</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ts</span><span class="p">[</span><span class="s1">&#39;tableSpace&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">browse</span><span class="p">()]</span>

<div class="viewcode-block" id="OracleInstance.browse"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.browse">[docs]</a>    <span class="k">def</span> <span class="nf">browse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Overridden method to browse oracle database tablespaces&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">options</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_browse_options</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_browse_response</span><span class="p">(</span><span class="n">options</span><span class="p">)</span></div>

<div class="viewcode-block" id="OracleInstance.backup"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.backup">[docs]</a>    <span class="k">def</span> <span class="nf">backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subclient_name</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Uses the default subclient to backup the database</span>

<span class="sd">        Args:</span>
<span class="sd">            subclient_name (str) -- name of subclient to use</span>
<span class="sd">                default: default</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclients</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">subclient_name</span><span class="p">)</span><span class="o">.</span><span class="n">backup</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;full&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="OracleInstance.restore"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.restore">[docs]</a>    <span class="k">def</span> <span class="nf">restore</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">destination_client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">common_options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">browse_option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">oracle_options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform restore full/partial database using latest backup or backup copy</span>

<span class="sd">        Args:</span>
<span class="sd">            files               (dict)      --  fileOption for restore</span>

<span class="sd">            destination_client  (str)       --  destination client name</span>

<span class="sd">            common_options      (dict)      --  dictionary containing common options</span>
<span class="sd">                default:    None</span>

<span class="sd">            browse_option       (dict)      --  dictionary containing browse options</span>

<span class="sd">            oracle_options      (dict)      --  dictionary containing other oracle options</span>
<span class="sd">                default:    By default it restores the controlfile and datafiles from latest backup</span>

<span class="sd">            tag                 (str)       --  Type of the restore to be performed</span>
<span class="sd">                default:    None</span>

<span class="sd">            Example: {</span>
<span class="sd">            &quot;resetLogs&quot;: 1,</span>
<span class="sd">            &quot;switchDatabaseMode&quot;: True,</span>
<span class="sd">            &quot;noCatalog&quot;: True,</span>
<span class="sd">            &quot;restoreControlFile&quot;: True,</span>
<span class="sd">            &quot;recover&quot;: True,</span>
<span class="sd">            &quot;recoverFrom&quot;: 3,</span>
<span class="sd">            &quot;restoreData&quot;: True,</span>
<span class="sd">            &quot;restoreFrom&quot;: 3</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            object  --  Job containing restore details</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError   --  If the oracle options is not a dict</span>
<span class="sd">            SDKException    --  If destination_client can&#39;t be set</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">oracle_options</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">oracle_options</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;resetLogs&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;switchDatabaseMode&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;noCatalog&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;recover&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;recoverFrom&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&quot;restoreData&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;restoreFrom&quot;</span><span class="p">:</span> <span class="mi">3</span>
            <span class="p">}</span>

        <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;snap&#39;</span><span class="p">:</span>
            <span class="n">opt</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;useSnapRestore&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;cleanupAuxiliary&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;restoreControlFile&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">oracle_options</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">opt</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">destination_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">destination_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">[</span><span class="s1">&#39;instance&#39;</span><span class="p">][</span><span class="s1">&#39;clientName&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="n">SDKException</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s2">&quot;Instance&quot;</span><span class="p">,</span> <span class="s2">&quot;105&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># subclient = self.subclients.get(subclient_name)</span>
            <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_oracle_restore_json</span><span class="p">(</span><span class="n">destination_client</span><span class="o">=</span><span class="n">destination_client</span><span class="p">,</span>
                                                    <span class="n">instance_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_name</span><span class="p">,</span>
                                                    <span class="n">tablespaces</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tablespaces</span><span class="p">,</span>
                                                    <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
                                                    <span class="n">browse_option</span><span class="o">=</span><span class="n">browse_option</span><span class="p">,</span>
                                                    <span class="n">common_options</span><span class="o">=</span><span class="n">common_options</span><span class="p">,</span>
                                                    <span class="n">oracle_options</span><span class="o">=</span><span class="n">oracle_options</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_restore_response</span><span class="p">(</span><span class="n">options</span><span class="p">)</span></div>
            
    

    <span class="k">def</span> <span class="nf">_restore_db_dump_option_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;setter for the oracle dbdump Restore option in restore JSON</span>
<span class="sd">            Args:</span>
<span class="sd">                value   (dict)  --  Dictionary of options need to be set for restore</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span><span class="s1">&#39;101&#39;</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">_db_dump_restore_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;importToDatabase&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;parallelism&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;restorePath&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination_path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
            <span class="s2">&quot;overwriteTable&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;connectDetails&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">b64encode</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;db_password&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span>
                <span class="s2">&quot;domainName&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oracleInstance&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span>
                    <span class="n">get</span><span class="p">(</span><span class="s2">&quot;sqlConnect&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;domainName&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
                <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oracleInstance&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span>
                    <span class="n">get</span><span class="p">(</span><span class="s2">&quot;sqlConnect&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;userName&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="p">}</span>
        <span class="p">}</span>


    <span class="k">def</span> <span class="nf">_restore_oracle_option_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;setter for the oracle Restore option in restore JSON</span>
<span class="sd">        Args:</span>
<span class="sd">                value   (dict)  --  Dictionary of options need to be set for restore</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span><span class="s1">&#39;101&#39;</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">_oracle_restore_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;validate&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;noCatalog&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;duplicateToName&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cloneEnv&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;restoreControlFile&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;duplicate&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;tableViewRestore&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;osID&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;partialRestore&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;restoreStream&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;restoreSPFile&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;recover&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;recoverFrom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;archiveLog&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;restoreData&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;restoreFrom&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;timeZone&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;TimeZoneName&quot;</span><span class="p">:</span> <span class="s2">&quot;(UTC) Coordinated Universal Time&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;recoverTime&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s2">&quot;sourcePaths&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;//**&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;restoreTime&quot;</span><span class="p">:</span> <span class="p">{}</span>
        <span class="p">}</span>
        
    <span class="k">def</span> <span class="nf">_restore_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the JSON request to pass to the API as per the options selected by the user.</span>

<span class="sd">            Args:</span>
<span class="sd">                kwargs   (dict)  --  Dictionary of options need to be set for restore</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict             -- JSON request to pass to the API</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rest_json</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">OracleInstance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_restore_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">restore_option</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;restore_option&quot;</span><span class="p">):</span>
            <span class="n">restore_option</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;restore_option&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;restore_option&quot;</span><span class="p">:</span>
                    <span class="n">restore_option</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">restore_option</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_restore_db_dump_option_json</span><span class="p">(</span><span class="n">restore_option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_restore_oracle_option_json</span><span class="p">(</span><span class="n">restore_option</span><span class="p">)</span>
        <span class="n">rest_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;dbDumpOptions&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_db_dump_restore_json</span>
        <span class="n">rest_json</span><span class="p">[</span><span class="s2">&quot;taskInfo&quot;</span><span class="p">][</span><span class="s2">&quot;subTasks&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;options&quot;</span><span class="p">][</span>
            <span class="s2">&quot;restoreOptions&quot;</span><span class="p">][</span><span class="s2">&quot;oracleOpt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_oracle_restore_json</span>

        <span class="k">return</span> <span class="n">rest_json</span>

<div class="viewcode-block" id="OracleInstance.restore_in_place"><a class="viewcode-back" href="../../../source/cvpysdk.instances.html#cvpysdk.instances.oracleinstance.OracleInstance.restore_in_place">[docs]</a>    <span class="k">def</span> <span class="nf">restore_in_place</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">db_password</span><span class="p">,</span>
            <span class="n">path</span><span class="p">,</span>
            <span class="n">dest_client_name</span><span class="p">,</span>
            <span class="n">dest_instance_name</span><span class="p">,</span>
            <span class="n">dest_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Restores the oracle logical dump data/log files specified in the input paths</span>
<span class="sd">        list to the same location.</span>

<span class="sd">            Args:</span>
<span class="sd">                </span>
<span class="sd">                db_password             (str)  -- password for oracle database</span>
<span class="sd">                </span>
<span class="sd">                path                    (list)  --  list of database/databases to be restored</span>

<span class="sd">                dest_client_name        (str)   --  destination client name where files are to be</span>
<span class="sd">                restored</span>

<span class="sd">                dest_instance_name      (str)   --  destination postgres instance name of</span>
<span class="sd">                destination client</span>

<span class="sd">                dest_path        (str)   --  destinath path for restore</span>

<span class="sd">                    default: None</span>

<span class="sd">            Returns:</span>
<span class="sd">                object - instance of the Job class for this restore job</span>

<span class="sd">            Raises:</span>
<span class="sd">                SDKException:</span>
<span class="sd">                    if paths is not a list</span>

<span class="sd">                    if failed to initialize job</span>

<span class="sd">                    if response is empty</span>

<span class="sd">                    if response is not success</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">db_password</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SDKException</span><span class="p">(</span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span><span class="s1">&#39;103&#39;</span><span class="p">)</span>
        

        <span class="n">request_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_restore_json</span><span class="p">(</span>
            <span class="n">db_password</span><span class="o">=</span><span class="n">db_password</span><span class="p">,</span>
            <span class="n">paths</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
            <span class="n">destination_client</span><span class="o">=</span><span class="n">dest_client_name</span><span class="p">,</span>
            <span class="n">destination_instance</span><span class="o">=</span><span class="n">dest_instance_name</span><span class="p">,</span>
            <span class="n">destination_path</span><span class="o">=</span><span class="n">dest_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_restore_response</span><span class="p">(</span><span class="n">request_json</span><span class="p">)</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Commvault Systems Inc. All Rights Reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>